"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6846],{6846:(_e,I,g)=>{g.r(I),g.d(I,{RequestProcessedDetailPageModule:()=>se});var N=g(177),q=g(9417),_=g(9465),f=g(7625),h=g(467),G=g(7392),A=g(5083),X=g(7762),O=g(5312),R=g(3801),T=g(6944),b=g(7142),y=g(1038),V=g(6539),v=g(8517),M=g(6757),p=g(2021),E=g(3588),C=g(8833),e=g(4438),$=g(4842);function B(r,m){if(1&r&&e.nrm(0,"ion-img",52),2&r){const i=e.XpG(3);e.Y8G("src",i.imageUrl)}}function w(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",62),e.bIt("click",function(){e.eBV(i);const t=e.XpG(3);return e.Njj(t.getCamera())}),e.nrm(1,"ion-icon",63),e.j41(2,"ion-label"),e.EFF(3,"Ch\u1ee5p \u1ea3nh xe"),e.k0s()()}}function U(r,m){if(1&r&&(e.j41(0,"ion-select-option",57),e.EFF(1),e.k0s()),2&r){const i=m.$implicit;e.Y8G("value",i.LookupId),e.R7$(),e.JRh(i.Objectvalue)}}function L(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",64),e.bIt("click",function(){e.eBV(i);const t=e.XpG(3);return e.Njj(t.getCamera())}),e.j41(1,"ion-label"),e.EFF(2,"Ch\u1ee5p l\u1ea1i"),e.k0s()()}}function J(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-buttons",46)(6,"ion-button",47),e.bIt("click",function(){e.eBV(i),e.XpG();const t=e.sdS(100);return e.Njj(null==t?null:t.dismiss())}),e.nrm(7,"ion-icon",48),e.k0s()()()(),e.j41(8,"ion-content",49)(9,"div",50)(10,"div",51),e.DNE(11,B,1,1,"ion-img",52)(12,w,4,0),e.k0s(),e.j41(13,"div",53)(14,"div",54)(15,"ion-item",55)(16,"ion-select",56),e.nI1(17,"translate"),e.nI1(18,"translate"),e.bIt("ionChange",function(t){e.eBV(i);const n=e.XpG(2);return e.Njj(n.changeTypeNote(t))}),e.Z7z(19,U,2,2,"ion-select-option",57,e.fX1),e.k0s()()(),e.j41(21,"div",54)(22,"ion-item",55)(23,"ion-textarea",58),e.bIt("ionChange",function(t){e.eBV(i);const n=e.XpG(2);return e.Njj(n.changeNote(t))}),e.k0s()()()()()(),e.j41(24,"ion-footer",49)(25,"div",59),e.DNE(26,L,3,0,"ion-button",60),e.j41(27,"ion-button",61),e.bIt("click",function(t){e.eBV(i),e.XpG();const n=e.sdS(100),a=e.XpG();return e.Njj(a.refuseService(t,n))}),e.j41(28,"ion-label"),e.EFF(29),e.nI1(30,"translate"),e.k0s()()()()}if(2&r){const i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,9,"CancelService")),e.R7$(8),e.vxM(11,i.imageUrl?11:12),e.R7$(5),e.Y8G("value",i.dataForm.TypeNote)("cancelText",e.bMT(17,11,"Close"))("okText",e.bMT(18,13,"Apply")),e.R7$(3),e.Dyx(i.v_cancel_process_reason._data),e.R7$(4),e.Y8G("autoGrow",!0)("value",i.dataForm.Note),e.R7$(3),e.vxM(26,i.imageUrl?26:-1),e.R7$(3),e.JRh(e.bMT(30,15,"CancelService"))}}function H(r,m){if(1&r&&e.nrm(0,"ion-img",52),2&r){const i=e.XpG(3);e.Y8G("src",i.imageUrl)}}function Y(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",62),e.bIt("click",function(){e.eBV(i);const t=e.XpG(3);return e.Njj(t.getCamera())}),e.nrm(1,"ion-icon",63),e.j41(2,"ion-label"),e.EFF(3,"Ch\u1ee5p \u1ea3nh xe"),e.k0s()()}}function z(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",64),e.bIt("click",function(){e.eBV(i);const t=e.XpG(3);return e.Njj(t.getCamera())}),e.j41(1,"ion-label"),e.EFF(2,"Ch\u1ee5p l\u1ea1i"),e.k0s()()}}function K(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"X\xe1c nh\u1eadn d\u1ecbch v\u1ee5"),e.k0s(),e.j41(4,"ion-buttons",46)(5,"ion-button",47),e.bIt("click",function(){e.eBV(i),e.XpG();const t=e.sdS(103);return e.Njj(null==t?null:t.dismiss())}),e.nrm(6,"ion-icon",48),e.k0s()()()(),e.j41(7,"ion-content",49)(8,"div",50)(9,"div",51),e.DNE(10,H,1,1,"ion-img",52)(11,Y,4,0),e.k0s(),e.j41(12,"div",53)(13,"div",54)(14,"ion-item",55)(15,"ion-textarea",65),e.bIt("ionChange",function(t){e.eBV(i);const n=e.XpG(2);return e.Njj(n.changeNote(t))}),e.k0s()()()()()(),e.j41(16,"ion-footer",49)(17,"div",59),e.DNE(18,z,3,0,"ion-button",60),e.j41(19,"ion-button",66),e.bIt("click",function(t){e.eBV(i),e.XpG();const n=e.sdS(103),a=e.XpG();return e.Njj(a.confirmService(t,n))}),e.j41(20,"ion-label"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()()}if(2&r){const i=e.XpG(2);e.R7$(10),e.vxM(10,i.imageUrl?10:11),e.R7$(5),e.Y8G("autoGrow",!0)("value",i.dataForm.Note),e.R7$(3),e.vxM(18,i.imageUrl?18:-1),e.R7$(3),e.JRh(e.bMT(22,5,"Confirm"))}}function W(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-buttons",46)(6,"ion-button",47),e.bIt("click",function(){e.eBV(i),e.XpG();const t=e.sdS(106);return e.Njj(null==t?null:t.dismiss())}),e.nrm(7,"ion-icon",48),e.k0s()()()(),e.j41(8,"div",67)(9,"div"),e.EFF(10,"Ch\u1ecdn h\xecnh th\u1ee9c b\u1eaft \u0111\u1ea7u phi\xean s\u1ea1c (\u01b0u ti\xean s\u1ea1c online \u0111\u1ec3 qu\xe1 tr\xecnh s\u1ea1c t\u1ef1 \u0111\u1ed9ng di\u1ec5n ra)"),e.k0s()(),e.j41(11,"ion-footer")(12,"div",68)(13,"ion-button",69),e.bIt("click",function(t){e.eBV(i),e.XpG();const n=e.sdS(106),a=e.XpG();return e.Njj(a.offlineCharging(t,n))}),e.j41(14,"ion-label"),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.j41(17,"ion-button",70),e.bIt("click",function(t){e.eBV(i),e.XpG();const n=e.sdS(106),a=e.XpG();return e.Njj(a.onlineCharging(t,n))}),e.j41(18,"ion-label"),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()()}if(2&r){const i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,5,"StartChargingSession")),e.R7$(10),e.Y8G("disabled",i.startCharging_Disabled),e.R7$(2),e.JRh(e.bMT(16,7,"OfflineCharging")),e.R7$(2),e.Y8G("disabled",i.startCharging_Disabled),e.R7$(2),e.JRh(e.bMT(20,9,"OnlineCharging"))}}function Z(r,m){if(1&r){const i=e.RV6();e.j41(0,"div",71)(1,"ion-button",72),e.bIt("click",function(){e.eBV(i),e.XpG();const t=e.sdS(100);return e.Njj(null==t?null:t.present())}),e.j41(2,"ion-label"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"ion-button",66),e.bIt("click",function(){e.eBV(i),e.XpG();const t=e.sdS(103);return e.Njj(null==t?null:t.present())}),e.j41(6,"ion-label"),e.EFF(7,"X\xe1c nh\u1eadn kh\xe1ch h\xe0ng"),e.k0s()()(),e.j41(8,"div",73)(9,"ion-button",74),e.bIt("click",function(t){e.eBV(i);const n=e.XpG(2);return e.Njj(n.openDirection(t))}),e.j41(10,"ion-label"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"ion-icon",75),e.k0s()()}2&r&&(e.R7$(3),e.JRh(e.bMT(4,2,"CancelService")),e.R7$(8),e.JRh(e.bMT(12,4,"Direction")))}function Q(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",66),e.bIt("click",function(){e.eBV(i);const t=e.XpG(3);return e.Njj(t.navigateByUrl(t.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",t.requestProcessed.ChargeSessionId.toString())))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function ee(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",72),e.bIt("click",function(){e.eBV(i),e.XpG(2);const t=e.sdS(100);return e.Njj(null==t?null:t.present())}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"ion-button",77),e.bIt("click",function(){e.eBV(i),e.XpG(2);const t=e.sdS(106);return e.Njj(t.present())}),e.j41(5,"ion-label"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,2,"Refuse")),e.R7$(4),e.JRh(e.bMT(7,4,"StartChargingSession")))}function te(r,m){if(1&r&&(e.j41(0,"div",71),e.DNE(1,Q,4,3,"ion-button",76)(2,ee,8,6),e.k0s()),2&r){const i=e.XpG(2);e.R7$(),e.vxM(1,i.requestProcessed.ChargeSessionId?1:2)}}function ne(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-button",66),e.bIt("click",function(){let t;e.eBV(i);const n=e.XpG(3);return e.Njj(n.navigateByUrl(n.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",null!==(t=null==n.requestProcessed.ChargeSessionId?null:n.requestProcessed.ChargeSessionId.toString())&&void 0!==t?t:"")))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function oe(r,m){if(1&r&&(e.j41(0,"div",71),e.DNE(1,ne,4,3,"ion-button",76),e.k0s()),2&r){const i=e.XpG(2);e.R7$(),e.vxM(1,i.requestProcessed.ChargeSessionId?1:-1)}}function ie(r,m){if(1&r){const i=e.RV6();e.j41(0,"ion-content")(1,"ion-refresher",6),e.bIt("ionRefresh",function(t){e.eBV(i);const n=e.XpG();return e.Njj(n.onIonRefresher(t))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"h4",11)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",12)(11,"small"),e.EFF(12),e.k0s()(),e.nrm(13,"hr",13),e.j41(14,"div",14)(15,"span",15)(16,"small"),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"b"),e.EFF(20),e.k0s()()(),e.j41(21,"span",16)(22,"small"),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()(),e.nrm(28,"div",17),e.k0s()()(),e.j41(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"ion-chip",25),e.nrm(37,"ion-icon",26),e.j41(38,"ion-label"),e.EFF(39),e.k0s()()()()(),e.j41(40,"div",27)(41,"div",28)(42,"div",29)(43,"div"),e.nrm(44,"ion-img",30),e.k0s(),e.j41(45,"div",31)(46,"div",32),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"div")(50,"strong"),e.EFF(51),e.k0s()()()()(),e.j41(52,"div",33)(53,"h6",34)(54,"b"),e.EFF(55,"Ng\u01b0\u1eddi y\xeau c\u1ea7u"),e.k0s()(),e.nrm(56,"hr",35),e.j41(57,"div")(58,"b",36),e.EFF(59),e.k0s()()(),e.j41(60,"div",33)(61,"h6",34)(62,"b"),e.EFF(63,"Th\u1eddi gian g\u1eedi y\xeau c\u1ea7u"),e.k0s()(),e.nrm(64,"hr",35),e.j41(65,"div")(66,"b",36),e.EFF(67),e.k0s()()(),e.j41(68,"div",33)(69,"h6",34)(70,"b"),e.EFF(71,"Th\u1eddi gian h\u1eb9n s\u1ea1c"),e.k0s()(),e.nrm(72,"hr",35),e.j41(73,"div")(74,"b",36),e.EFF(75),e.k0s()()()()()(),e.j41(76,"div",20)(77,"div",37)(78,"div",38)(79,"div",39)(80,"b",40),e.EFF(81,"Chi ti\u1ebft d\u1ecbch v\u1ee5"),e.k0s()()(),e.nrm(82,"hr",41),e.j41(83,"div",42)(84,"table",43)(85,"tr")(86,"td"),e.EFF(87),e.nI1(88,"translate"),e.k0s(),e.j41(89,"td")(90,"b"),e.EFF(91),e.k0s()()(),e.j41(92,"tr")(93,"td"),e.EFF(94),e.nI1(95,"translate"),e.k0s(),e.j41(96,"td")(97,"b"),e.EFF(98),e.k0s()()()()()()()()(),e.j41(99,"ion-modal",null,0),e.DNE(101,J,31,17,"ng-template"),e.k0s(),e.j41(102,"ion-modal",null,1),e.DNE(104,K,23,7,"ng-template"),e.k0s(),e.j41(105,"ion-modal",44,2),e.DNE(107,W,21,11,"ng-template"),e.k0s()(),e.j41(108,"ion-footer",45),e.DNE(109,Z,14,6)(110,te,3,1)(111,oe,2,1),e.k0s()}if(2&r){let i,o,t,n;const a=e.XpG();e.R7$(9),e.JRh(a.requestProcessed.ServiceName),e.R7$(3),e.JRh(a.requestProcessed.RequestAddress),e.R7$(5),e.SpI("",e.bMT(18,22,"YourWay")," "),e.R7$(3),e.SpI("",a.getDistance2CL()," km"),e.R7$(3),e.SpI("",e.bMT(24,24,"EstimatedTime")," "),e.R7$(3),e.Lme("",a.getTime2CL()," ",e.bMT(27,26,"Minute"),""),e.R7$(6),e.HbH("border-"+a.APP_FUNC_GetColor_VProcessStatus(a.requestProcessed.VProcessStatus)),e.R7$(4),e.Y8G("color",a.APP_FUNC_GetColor_VProcessStatus(a.requestProcessed.VProcessStatus)),e.R7$(3),e.JRh(a.requestProcessed.VProcessStatusName),e.R7$(8),e.JRh(null!==(i=a.requestProcessed.ChargePackageName)&&void 0!==i?i:e.bMT(48,28,"ChargingPackage")),e.R7$(4),e.SpI("",a.APP_FUNC_FormatMoney(null!==(o=a.requestProcessed.PayValue)&&void 0!==o?o:0),"\u0111"),e.R7$(8),e.JRh(a.requestProcessed.CustomerFullName),e.R7$(8),e.JRh(a.APP_FUNC_FormatDate(a.requestProcessed.RequestDate)),e.R7$(8),e.Lme("",a.APP_FUNC_FormatDate(a.requestProcessed.ExecutionDate+" "+a.requestProcessed.ExecutionTime,"DD/MM/YYYY, HH:mm")," - ",a.APP_FUNC_FormatDate(a.requestProcessed.ExecutionDate+" "+a.requestProcessed.ExecutionTimeTo,"HH:mm"),""),e.R7$(12),e.JRh(e.bMT(88,30,"ChargingPackage")),e.R7$(4),e.JRh(a.requestProcessed.ChargePackageName),e.R7$(3),e.JRh(e.bMT(95,32,"PayValue")),e.R7$(4),e.SpI("",a.APP_FUNC_FormatMoney(null!==(t=a.requestProcessed.PayValue)&&void 0!==t?t:0),"\u0111"),e.R7$(11),e.vxM(109,(n=a.requestProcessed.VProcessStatus)===a.v_process_status.NhanDichVu?109:n===a.v_process_status.DangPhucVu?110:n===a.v_process_status.HoanTat?111:-1)}}const ae=[{path:"",component:(()=>{var r;class m{constructor(o,t,n,a,c,s){var u;this.router=o,this.activatedRoute=t,this.modalController=n,this.animationController=a,this.toastController=c,this.loadingController=s,this.APP_ROUTE=C._,this.APP_FUNC_FormatDate=v.Rv,this.APP_FUNC_FormatMoney=v.xi,this.APP_FUNC_GetColor_VProcessStatus=v.R0,this.v_process_status=E.Sx,this.v_cancel_process_reason=E.B1,this.dataForm={};let l=null!==(u=t.snapshot.params.id)&&void 0!==u?u:"";l&&(this.RequestProcessedId=parseFloat(l))}ngOnInit(){var o=this;this.IsOnInit=!0,(0,h.A)(function*(){(yield(0,V.kU)())&&o.refreshData(()=>{o.refreshCurrentPosition(()=>{})})})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(o){this.refreshData(()=>{o.target.complete()})}refreshData(o){var t=this;return(0,h.A)(function*(){(0,b.P1)({params:{RequestProcessedId:t.RequestProcessedId},callback:n=>{var a,c,s,u,l;t.response=n,null!=n&&n.Succeeded?(t.requestProcessed=null!==(a=n.Data)&&void 0!==a?a:{},t.customerPosition={lat:null!==(c=null===(s=t.requestProcessed)||void 0===s?void 0:s.RequestLat)&&void 0!==c?c:0,lng:null!==(u=null===(l=t.requestProcessed)||void 0===l?void 0:l.RequestLong)&&void 0!==u?u:0}):(0,p.cX)(t.toastController,{},n).then(d=>{d.onDidDismiss().then(P=>{t.router.navigateByUrl(C._.REQUEST_SERVICE)}),d.present()}),o&&o()}})})()}initMap(){var o=this;const t=function(){var a=(0,h.A)(function*(){let c,s,l=window.google.maps;const{Map:d}=yield l.importLibrary("maps"),{AdvancedMarkerElement:P}=yield l.importLibrary("marker");let F=new d(document.getElementById("map"),{zoom:12,center:o.customerPosition,disableDefaultUI:!0,mapId:"DEMO_MAP_ID"});o.customerPosition&&(c=new P({map:F,position:o.customerPosition,title:"V\u1ecb tr\xed kh\xe1ch h\xe0ng \u0111\u1eb7t l\u1ecbch"})),o.employePosition&&(s=new P({map:F,position:o.employePosition,title:"V\u1ecb tr\xed nh\xe2n vi\xean iSAC"})),o.customerPosition&&o.employePosition&&setTimeout(()=>{var j,k,x,D,ce=l.DirectionsService(),S=l.DirectionsRenderer();S.setMap(F),ce.route({origin:l.LatLng(null===(j=o.employePosition)||void 0===j?void 0:j.lat,null===(k=o.employePosition)||void 0===k?void 0:k.lng),destination:l.LatLng(null===(x=o.customerPosition)||void 0===x?void 0:x.lat,null===(D=o.customerPosition)||void 0===D?void 0:D.lng),travelMode:"DRIVING"},function(de,ue){"OK"==ue&&S.setDirections(de)})},1e3)});return function(){return a.apply(this,arguments)}}();window.initMap=t;let n=document.createElement("script");n.async=!0,n.src=`https://maps.google.com/maps/api/js?key=${O.c.apiKey}&libraries=places,marker,routes&callback=initMap&loading=async`,document.head.append(n)}refreshCurrentPosition(o){var t=this;return(0,h.A)(function*(){let n=()=>{(0,R.Xz)().then(a=>{t.employePosition=a,o&&o()})};X.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var a=(0,h.A)(function*(c){if(c.coords){var s={lat:c.coords.latitude,lng:c.coords.longitude};yield(0,R.fj)({params:s})}n()});return function(c){return a.apply(this,arguments)}}()).catch(()=>{n()})})()}navigateByUrl(o){this.router.navigateByUrl(o)}getDistance2CL(){return this.employePosition&&this.customerPosition?(0,v.Rw)((0,v.GH)(this.employePosition,this.customerPosition),10):0}getTime2CL(){return this.employePosition&&this.customerPosition?(0,v.Rw)(3*(0,v.GH)(this.employePosition,this.customerPosition),1):0}openDirection(o){var t=this;return(0,h.A)(function*(){var n,a;yield G.P.open({url:(0,v.LZ)(null!==(n=t.employePosition)&&void 0!==n?n:yield(0,R.Xz)(),null!==(a=t.customerPosition)&&void 0!==a?a:yield(0,R.Xz)())})})()}refuseService(o,t){var n=this;return(0,h.A)(function*(){var a=[];n.imageFile&&a.push(new Promise((s,u)=>{(0,y.v)({loadingController:n.loadingController,params:{file:n.imageFile,subFolder:"ServiceCancel",fileType:"image"},callback:l=>{0==(null==l?void 0:l.ReturnCode)?(n.dataForm.FilePath=`${l.path}/${l.file.name}`,n.imageFile=void 0):(0,p.cX)(n.toastController,{},l).then(d=>d.present()),s(l)}})}));var c=()=>{var s,u,l;n.dataForm.TypeNote?n.dataForm.Note?n.dataForm.FilePath||n.dataForm.TypeNote!=E.B1.TuChoiKhongPhaiXeVIP?(0,b.Is)({loadingController:n.loadingController,params:{RequestProcessedId:null===(s=n.requestProcessed)||void 0===s?void 0:s.RequestProcessedId,VCancelProcessReason:n.dataForm.TypeNote,CancelReason:null===(u=n.dataForm)||void 0===u?void 0:u.Note,CancelReasonImages:null===(l=n.dataForm)||void 0===l?void 0:l.FilePath},callback:d=>{null!=d&&d.Succeeded?(null==t||t.dismiss(),n.router.navigateByUrl(C._.REQUEST_PROCESSED),(0,p.cX)(n.toastController,{color:"danger",message:"\u0110\xe3 h\u1ee7y d\u1ecbch v\u1ee5"}).then(P=>P.present())):(0,p.cX)(n.toastController,{},d).then(P=>P.present())}}):(0,p.cX)(n.toastController,{color:"warning",message:"Y\xeau c\u1ea7u g\u1eedi \u1ea3nh ch\u1ee5p \u1ea3nh \u0111\xednh k\xe8m!"}).then(d=>d.present()):(0,p.cX)(n.toastController,{color:"warning",message:"Nh\u1eadp l\xed do t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5!"}).then(d=>d.present()):(0,p.cX)(n.toastController,{color:"warning",message:"Ch\u1ecdn danh m\u1ee5c t\u1eeb ch\u1ed1i th\u1ef1c hi\u1ec7n d\u1ecbch v\u1ee5!"}).then(d=>d.present())};a.length?Promise.all(a).then(()=>{c()}):c()})()}confirmService(o,t){var n=this;return(0,h.A)(function*(){var a=[];n.imageFile&&a.push(new Promise((s,u)=>{(0,y.v)({loadingController:n.loadingController,params:{file:n.imageFile,subFolder:"ServiceAccept",fileType:"image"},callback:l=>{0==(null==l?void 0:l.ReturnCode)?(n.dataForm.FilePath=`${l.path}/${l.file.name}`,n.imageFile=void 0):(0,p.cX)(n.toastController,{},l).then(d=>d.present()),s(l)}})}));var c=()=>{var s,u,l;n.dataForm.FilePath?(0,b.w7)({loadingController:n.loadingController,params:{RequestServiceId:null===(s=n.requestProcessed)||void 0===s?void 0:s.RequestServiceId,AcceptNotes:null===(u=n.dataForm)||void 0===u?void 0:u.Note,AcceptImages:null===(l=n.dataForm)||void 0===l?void 0:l.FilePath},callback:d=>{null!=d&&d.Succeeded?(null==t||t.dismiss(),n.refreshData(()=>{})):(0,p.cX)(n.toastController,{},d).then(P=>P.present())}}):(0,p.cX)(n.toastController,{color:"warning",message:"Vui l\xf2ng ch\u1ee5p \u1ea3nh xe \u0111\u1ec3 x\xe1c nh\u1eadn d\u1ecbch v\u1ee5!"}).then(d=>d.present())};a.length?Promise.all(a).then(()=>{c()}):c()})()}offlineCharging(o,t){var n=this;return(0,h.A)(function*(){var a,c;n.startCharging_Disabled=!0,(0,T.Cl)({loadingController:n.loadingController,params:{RequestProcessedId:null===(a=n.requestProcessed)||void 0===a?void 0:a.RequestProcessedId,ChargeSessionId:null===(c=n.requestProcessed)||void 0===c?void 0:c.ChargeSessionId,IsFinish:!1},callback:s=>{var u,l;null!=s&&s.Succeeded&&null!=s&&s.Data?(null==t||t.dismiss(),n.router.navigateByUrl(C._.CHARGING_SESSION_DETAIL.replace(":id",null!==(u=null==s||null===(l=s.Data)||void 0===l?void 0:l.toString())&&void 0!==u?u:""))):((0,p.cX)(n.toastController,{},s).then(d=>d.present()),n.startCharging_Disabled=!1)}})})()}onlineCharging(o,t){var n=this;return(0,h.A)(function*(){var a;n.startCharging_Disabled=!0,(0,T.aN)({loadingController:n.loadingController,params:{RequestProcessedId:null===(a=n.requestProcessed)||void 0===a?void 0:a.RequestProcessedId},callback:c=>{var s,u;null!=c&&c.Succeeded&&null!=c&&c.Data?(null==t||t.dismiss(),n.router.navigateByUrl(C._.CHARGING_SESSION_DETAIL.replace(":id",null!==(s=null==c||null===(u=c.Data)||void 0===u?void 0:u.toString())&&void 0!==s?s:""))):((0,p.cX)(n.toastController,{},c).then(l=>l.present()),n.startCharging_Disabled=!1)}})})()}changeTypeNote(o){var t=this;return(0,h.A)(function*(){t.dataForm.TypeNote=o.detail.value})()}changeNote(o){var t=this;return(0,h.A)(function*(){var n;t.dataForm.Note=null===(n=o.detail.value)||void 0===n?void 0:n.trim(),console.log(t.dataForm)})()}getCamera(){var o=this;return(0,h.A)(function*(){["ios","android"].includes(A.Ii.getPlatform())?(0,M.x)({toastController:o.toastController,modalController:o.modalController},t=>{null!=t&&t.length&&(o.imageFile=t[0],o.imageUrl=URL.createObjectURL(t[0]))}):(0,M.$3)({toastController:o.toastController,modalController:o.modalController},t=>{null!=t&&t.length&&(o.imageFile=t[0],o.imageUrl=URL.createObjectURL(t[0]))})})()}}return(r=m).\u0275fac=function(o){return new(o||r)(e.rXU(f.Ix),e.rXU(f.nX),e.rXU(_.W3),e.rXU(_.Hx),e.rXU(_.K_),e.rXU(_.Xi))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-request-processed-detail"]],decls:8,vars:5,consts:[["modalRefuseService",""],["modalConfirmService",""],["modalStartCharging",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"bg-primary"],[1,"container","card-location","text-white","pb-2"],[1,"row"],[1,"col-auto"],[1,"d-flex","align-items-center","my-0"],[1,"d-flex","align-items-center","mt-1"],[1,"border-gray","mt-2","mb-1"],[1,"text-right","text-nowrap"],[1,"mr-4"],[1,"d-inline-block"],[1,"col","p-0"],[1,"container","pt-4","mt-2"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mb-4"],[1,"flex-grow-1","card-day","d-flex","flex-column","rounded","bg-white","border"],[1,"flex-grow-1"],[1,"d-flex","justify-content-center"],[1,"card-status"],[1,"no-opacity",3,"color"],["src","../../../assets/icon/tabs/service.svg"],[1,"p-2"],[1,"card-package","rounded","border","d-flex","align-items-stretch","p-2"],[1,"d-flex","align-items-center"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"align-self-stretch","pl-2","d-flex","flex-column","justify-content-between"],[1,"text-muted","fs-3"],[1,"card-day","bg-white","p-2","mt-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"text-medium"],[1,"card-vehicle","h-100","bg-white","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-ellipsis"],[1,"mr-1"],[1,"mt-2","mb-2"],[1,"d-flex","align-items-start"],[1,"table","table-borderless","m-0"],[1,"ion-modal-auto"],[1,"ion-padding-vertical"],["slot","end"],[3,"click"],["name","close-outline",1,"fs-24"],[1,"ion-padding"],[1,"w-100","min-h-100","d-flex","flex-column","align-items-center","justify-content-center"],[1,"flex-grow-1","d-flex","flex-column","align-items-center","justify-content-center"],[1,"max-w-100","max-h-100",3,"src"],[1,"w-100"],[1,"mt-3","ion-item-input"],["lines","none"],["placeholder","Ch\u1ecdn danh m\u1ee5c t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5","interface","action-sheet",3,"ionChange","value","cancelText","okText"],[3,"value"],["maxlength","250","placeholder","Nh\u1eadp l\xed do t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5!",3,"ionChange","autoGrow","value"],[1,"d-flex"],["color","medium","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","danger","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","medium",3,"click"],["slot","start","name","camera-outline"],["color","medium","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["maxlength","250","placeholder","Nh\u1eadp l\xed do n\u1ebfu c\xf3",3,"ionChange","autoGrow","value"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"ion-padding","mb-4"],[1,"d-flex","p-2"],["color","primary","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click","disabled"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click","disabled"],[1,"container","d-flex","align-items-center","justify-content-between"],["color","warning","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"container","d-flex"],["color","primary","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click"],["slot","end","src","../../../assets/icon/ion-icon/direction.svg"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","primary","shape","round","expand","block","fill","outline",1,"flex-grow-1","m-1",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"ion-header",3)(1,"ion-toolbar")(2,"ion-buttons",4),e.nrm(3,"ion-back-button",5),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.DNE(7,ie,112,34)),2&o&&(e.R7$(3),e.Y8G("defaultHref",t.APP_ROUTE.DEFAULT),e.R7$(2),e.JRh(e.bMT(6,3,"ServiceDetail")),e.R7$(2),e.vxM(7,t.requestProcessed?7:-1))},dependencies:[_.Jm,_.QW,_.ZB,_.W9,_.M0,_.eU,_.iq,_.KW,_.uz,_.he,_.To,_.Ki,_.Nm,_.Ip,_.nc,_.BC,_.ai,_.Sb,_.Je,_.Gw,_.el,$.D9],styles:[".card-location[_ngcontent-%COMP%]{position:relative;z-index:1;background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:top center;background-size:auto 100%}.card-location.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-location[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;--border-radius: .5rem;border:1px solid var(--ion-color-light)}.card-location[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-location[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}#map[_ngcontent-%COMP%]{width:100%;height:100%}.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{margin-top:-1rem}.card-day[_ngcontent-%COMP%]   .card-package[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-vehicle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-vehicle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}.card-vehicle[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),m})()}];let re=(()=>{var r;class m{}return(r=m).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.iI.forChild(ae),f.iI]}),m})();var le=g(3664);let se=(()=>{var r;class m{}return(r=m).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[N.MD,q.YN,_.bv,re,le.x]}),m})()}}]);