"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3807],{7142:(M,$,l)=>{l.d($,{Is:()=>C,Ms:()=>q,P1:()=>S,w7:()=>i});var P=l(467),_=l(5972);const i=function(){var f=(0,P.A)(function*(t){var o,c,d;t.params=t.params||{},(0,_.Ll)({url:"api/RequestProcessed/accept",params:{RequestServiceId:null!==(o=t.params.RequestServiceId)&&void 0!==o?o:null,AcceptNotes:null!==(c=t.params.AcceptNotes)&&void 0!==c?c:null,AcceptImages:null!==(d=t.params.AcceptImages)&&void 0!==d?d:null},success:g=>{"function"==typeof t.callback&&t.callback(g.data||null)},error:g=>{var e;"function"==typeof t.callback&&t.callback(null==g||null===(e=g.response)||void 0===e?void 0:e.data),console.error(g)},loading:t.loading,loadingController:t.loadingController})});return function(o){return f.apply(this,arguments)}}(),C=function(){var f=(0,P.A)(function*(t){var o,c,d,g;t.params=t.params||{},(0,_.Ll)({url:"api/RequestProcessed/cancel",params:{RequestProcessedId:null!==(o=t.params.RequestProcessedId)&&void 0!==o?o:null,VCancelProcessReason:null!==(c=t.params.VCancelProcessReason)&&void 0!==c?c:null,CancelReason:null!==(d=t.params.CancelReason)&&void 0!==d?d:null,CancelReasonImages:null!==(g=t.params.CancelReasonImages)&&void 0!==g?g:null},success:e=>{"function"==typeof t.callback&&t.callback(e.data||null)},error:e=>{var h;"function"==typeof t.callback&&t.callback(null==e||null===(h=e.response)||void 0===h?void 0:h.data),console.error(e)},loading:t.loading,loadingController:t.loadingController})});return function(o){return f.apply(this,arguments)}}(),q=function(){var f=(0,P.A)(function*(t){var o,c,d,g,e,h;t.params=t.params||{},(0,_.hm)({url:"api/RequestProcessed/get-myhistory",params:{VProcessStatus:null!==(o=t.params.VProcessStatus)&&void 0!==o?o:null,VProcessStatusMulti:null!==(c=t.params.VProcessStatusMulti)&&void 0!==c?c:null,StartDateAsString:null!==(d=t.params.StartDateAsString)&&void 0!==d?d:null,EndDateAsString:null!==(g=t.params.EndDateAsString)&&void 0!==g?g:null,PageNumber:null!==(e=t.params.PageNumber)&&void 0!==e?e:1,PageSize:null!==(h=t.params.PageSize)&&void 0!==h?h:10},success:R=>{"function"==typeof t.callback&&t.callback(R.data||null)},error:R=>{var I;"function"==typeof t.callback&&t.callback(null==R||null===(I=R.response)||void 0===I?void 0:I.data),console.error(R)},loading:t.loading,loadingController:t.loadingController})});return function(o){return f.apply(this,arguments)}}(),S=function(){var f=(0,P.A)(function*(t){var o;t.params=t.params||{},(0,_.hm)({url:`api/RequestProcessed/get-detail/${t.params.RequestProcessedId}`,params:{RequestProcessedId:null!==(o=t.params.RequestProcessedId)&&void 0!==o?o:null},success:c=>{"function"==typeof t.callback&&t.callback(c.data||null)},error:c=>{var d;"function"==typeof t.callback&&t.callback(null==c||null===(d=c.response)||void 0===d?void 0:d.data),console.error(c)},loading:t.loading,loadingController:t.loadingController})});return function(o){return f.apply(this,arguments)}}()},3807:(M,$,l)=>{l.r($),l.d($,{RequestProcessedPageModule:()=>j});var P=l(177),_=l(9417),i=l(9465),C=l(7625),q=l(467),S=l(5312),f=l(7142),t=l(6539),o=l(8517),c=l(2021),d=l(3588),g=l(8833),e=l(4438),h=l(3656),R=l(4842);const I=n=>({$implicit:n});function b(n,m){if(1&n&&(e.qex(0),e.j41(1,"div",12),e.eu8(2,13),e.k0s(),e.bVm()),2&n){const u=m.$implicit;e.XpG(2);const a=e.sdS(32);e.R7$(2),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(2,I,u))}}function T(n,m){if(1&n&&(e.j41(0,"div",8)(1,"div",10),e.DNE(2,b,3,4,"ng-container",11),e.k0s()()),2&n){const u=e.XpG();e.R7$(2),e.Y8G("ngForOf",u.requestProcesseds)}}function F(n,m){1&n&&(e.j41(0,"div",14),e.nrm(1,"img",15),e.j41(2,"div",16),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"DataNotFound")))}function y(n,m){if(1&n){const u=e.RV6();e.j41(0,"ion-infinite-scroll",17),e.bIt("ionInfinite",function(s){e.eBV(u);const r=e.XpG();return e.Njj(r.onIonInfinite(s))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}function D(n,m){if(1&n){const u=e.RV6();e.j41(0,"div",18),e.bIt("click",function(){let s;const r=e.eBV(u).$implicit,p=e.XpG();return e.Njj(p.navigateByUrl(p.APP_ROUTE.REQUEST_PROCESSED_DETAIL.replace(":id",null!==(s=null==r.RequestProcessedId?null:r.RequestProcessedId.toString())&&void 0!==s?s:"")))}),e.j41(1,"div",19)(2,"b"),e.EFF(3),e.k0s(),e.j41(4,"ion-text",20)(5,"small")(6,"b"),e.EFF(7),e.k0s()()()(),e.j41(8,"div")(9,"small",21),e.EFF(10),e.k0s()(),e.j41(11,"div",22)(12,"small",21),e.EFF(13),e.k0s()()()}if(2&n){const u=m.$implicit,a=e.XpG();e.R7$(3),e.JRh(u.ServiceName),e.R7$(),e.Y8G("color",a.APP_FUNC_GetColor_VProcessStatus(u.VProcessStatus)),e.R7$(3),e.JRh(u.VProcessStatusName),e.R7$(3),e.JRh(a.APP_FUNC_FormatDate(u.RequestDate)),e.R7$(3),e.JRh(u.RequestAddress)}}const A=[{path:"",component:(()=>{var n;class m{constructor(a,s,r,p,v,k){this.router=a,this.platform=s,this.modalController=r,this.animationController=p,this.toastController=v,this.loadingController=k,this.APP_ROUTE=g._,this.APP_FUNC_FormatMoney=o.xi,this.APP_FUNC_FormatDate=o.Rv,this.APP_FUNC_GetColor_VProcessStatus=o.R0,this.v_process_status=d.Sx,this.readfile_url=S.c.readfile_url,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.requestProcesseds=[]}ngOnInit(){this.IsOnInit=!0,(0,t.kU)().then(a=>{a&&this.refreshData()})}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(a){this.filter={},this.refreshData(()=>{a.target.complete()})}onIonInfinite(a){this.loadMore(()=>{a.target.complete()})}onIonSegmentChange(a){this.filter.VProcessStatusMulti=a.detail.value,this.filterChange()}pushData(a){1==this.paging.page&&(this.requestProcesseds.length=0),this.requestProcesseds=this.requestProcesseds.concat(a)}refreshData(a){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging(a)}loadMore(a){this.paging.page+=1,this.loadData_Paging(a)}searchChange(a){this.filter.search=a.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}sortChange(a,s){this.paging.sortfield=a||null,this.paging.sorttype=s||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}loadData_Paging(a){var s=this;return(0,q.A)(function*(){s.paging.loading=!0,(0,f.Ms)({loadingController:s.loadingController,params:{VProcessStatusMulti:s.filter.VProcessStatusMulti,PageNumber:s.paging.page,PageSize:s.paging.limit},callback:r=>{var p;s.response=r,null!=r&&r.Succeeded?s.pushData(null!==(p=r.Data)&&void 0!==p?p:[]):(0,c.cX)(s.toastController,{},r).then(v=>v.present()),s.paging.loading=!1,s.paging.active=!(null==r||!r.HasNextPage),a&&a()}})})()}navigateByUrl(a){this.router.navigateByUrl(a)}}return(n=m).\u0275fac=function(a){return new(a||n)(e.rXU(C.Ix),e.rXU(h.OD),e.rXU(i.W3),e.rXU(i.Hx),e.rXU(i.K_),e.rXU(i.Xi))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-request-processed"]],decls:33,vars:27,consts:[["templateRequestService",""],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"container","px-0"],["mode","md",3,"ionChange","value"],["value",""],[3,"value"],[1,"container","pt-3","pb-4"],[3,"ionInfinite",4,"ngIf"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-6","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[3,"ionInfinite"],[1,"card-order","cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],[3,"color"],[1,"text-muted"],[1,"mt-2"]],template:function(a,s){if(1&a){const r=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",3),e.bIt("ionRefresh",function(v){return e.eBV(r),e.Njj(s.onIonRefresher(v))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.j41(10,"div",4)(11,"ion-segment",5),e.bIt("ionChange",function(v){return e.eBV(r),e.Njj(s.onIonSegmentChange(v))}),e.j41(12,"ion-segment-button",6)(13,"ion-label"),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-segment-button",7)(17,"ion-label"),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"ion-segment-button",7)(21,"ion-label"),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.j41(24,"ion-segment-button",7)(25,"ion-label"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.DNE(28,T,3,1,"div",8)(29,F,5,3)(30,y,2,0,"ion-infinite-scroll",9),e.k0s(),e.DNE(31,D,14,5,"ng-template",null,0,e.C5r)}if(2&a){let r;e.R7$(3),e.Y8G("defaultHref",s.APP_ROUTE.TABS_DEFAULT),e.R7$(2),e.JRh(e.bMT(6,17,"ServiceHistory")),e.R7$(6),e.Y8G("value",null!==(r=s.filter.VProcessStatusMulti)&&void 0!==r?r:""),e.R7$(3),e.JRh(e.bMT(15,19,"All")),e.R7$(2),e.FCK("value","",s.v_process_status.DangPhucVu,",",s.v_process_status.DangPhucVu,""),e.R7$(2),e.JRh(e.bMT(19,21,"Processing")),e.R7$(2),e.FS9("value",s.v_process_status.HoanTat),e.R7$(2),e.JRh(e.bMT(23,23,"Completed")),e.R7$(2),e.yjJ("value","",s.v_process_status.KhachHangHuy,",",s.v_process_status.NhanVienTuChoi,",",s.v_process_status.TuChoiKhongPhaiXeVIP,""),e.R7$(2),e.JRh(e.bMT(27,25,"Error")),e.R7$(2),e.vxM(28,s.requestProcesseds.length?28:s.response?29:-1),e.R7$(2),e.Y8G("ngIf",s.paging.active)}},dependencies:[P.Sq,P.bT,P.T3,i.QW,i.W9,i.eU,i.Ax,i.Hp,i.he,i.To,i.Ki,i.Gp,i.eP,i.IO,i.BC,i.ai,i.Je,i.el,R.D9],styles:[".card-order[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{min-height:1.25rem;padding-top:.25rem;padding-bottom:.25rem;background:transparent}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;line-height:0;border:1px solid var(--ion-color-medium-tint)}"]}),m})()}];let E=(()=>{var n;class m{}return(n=m).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[C.iI.forChild(A),C.iI]}),m})();var V=l(3890);let j=(()=>{var n;class m{}return(n=m).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[P.MD,_.YN,i.bv,E,V.x]}),m})()}}]);