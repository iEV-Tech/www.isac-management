"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6846],{6944:(B,M,m)=>{m.d(M,{KX:()=>E,UV:()=>I,_$:()=>b,aN:()=>s,eu:()=>$,w0:()=>D,wm:()=>_});var x=m(467),F=m(5972);const I=function(){var p=(0,x.A)(function*(n){var c,u,f,S;n.params=n.params||{},(0,F.hm)({url:"api/ChargingSession/get-mystaff-chargingsessions",params:{VSessionStatus:null!==(c=n.params.VSessionStatus)&&void 0!==c?c:null,VSessionStatusMulti:null!==(u=n.params.VSessionStatusMulti)&&void 0!==u?u:null,PageNumber:null!==(f=n.params.PageNumber)&&void 0!==f?f:1,PageSize:null!==(S=n.params.PageSize)&&void 0!==S?S:10},success:e=>{"function"==typeof n.callback&&n.callback(e.data||null)},error:e=>{var q;"function"==typeof n.callback&&n.callback(null==e||null===(q=e.response)||void 0===q?void 0:q.data),console.error(e)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}(),E=function(){var p=(0,x.A)(function*(n){var c,u,f;n.params=n.params||{},(0,F.hm)({url:"api/ChargingSession/get-mybyordercode",params:{OrderCode:null!==(c=n.params.OrderCode)&&void 0!==c?c:null,PageNumber:null!==(u=n.params.PageNumber)&&void 0!==u?u:1,PageSize:null!==(f=n.params.PageSize)&&void 0!==f?f:10},success:S=>{"function"==typeof n.callback&&n.callback(S.data||null)},error:S=>{var e;"function"==typeof n.callback&&n.callback(null==S||null===(e=S.response)||void 0===e?void 0:e.data),console.error(S)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}(),D=function(){var p=(0,x.A)(function*(n){n.params=n.params||{},(0,F.hm)({url:`api/ChargingSession/get-byid/${n.params.ChargeSessionId}`,success:c=>{"function"==typeof n.callback&&n.callback(c.data||null)},error:c=>{var u;"function"==typeof n.callback&&n.callback(null==c||null===(u=c.response)||void 0===u?void 0:u.data),console.error(c)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}(),s=function(){var p=(0,x.A)(function*(n){var c;n.params=n.params||{},(0,F.Ll)({url:"api/ChargingSession/start-create",params:{RequestProcessedId:null!==(c=n.params.RequestProcessedId)&&void 0!==c?c:null,ConnectorId:1},success:u=>{"function"==typeof n.callback&&n.callback(u.data||null)},error:u=>{var f;"function"==typeof n.callback&&n.callback(null==u||null===(f=u.response)||void 0===f?void 0:f.data),console.error(u)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}(),_=function(){var p=(0,x.A)(function*(n){var c;n.params=n.params||{},(0,F.Ll)({url:"api/ChargingSession/start",params:{ChargeSessionId:null!==(c=n.params.ChargeSessionId)&&void 0!==c?c:null},success:u=>{"function"==typeof n.callback&&n.callback(u.data||null)},error:u=>{var f;"function"==typeof n.callback&&n.callback(null==u||null===(f=u.response)||void 0===f?void 0:f.data),console.error(u)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}(),b=function(){var p=(0,x.A)(function*(n){var c;n.params=n.params||{},(0,F.Ll)({url:"api/ChargingSession/stop",params:{ChargeSessionId:null!==(c=n.params.ChargeSessionId)&&void 0!==c?c:null},success:u=>{"function"==typeof n.callback&&n.callback(u.data||null)},error:u=>{var f;"function"==typeof n.callback&&n.callback(null==u||null===(f=u.response)||void 0===f?void 0:f.data),console.error(u)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}(),$=function(){var p=(0,x.A)(function*(n){n.params=n.params||{},(0,F.hm)({url:`api/ChargingSession/monitor/${n.params.StationCode}/${n.params.ConnectorId}`,success:c=>{"function"==typeof n.callback&&n.callback(c.data||null)},error:c=>{var u;"function"==typeof n.callback&&n.callback(null==c||null===(u=c.response)||void 0===u?void 0:u.data),console.error(c)},loading:n.loading,loadingController:n.loadingController})});return function(c){return p.apply(this,arguments)}}()},7142:(B,M,m)=>{m.d(M,{Is:()=>I,Ms:()=>E,P1:()=>A,w7:()=>g});var x=m(467),F=m(5972);const g=function(){var D=(0,x.A)(function*(s){var C,_,y;s.params=s.params||{},(0,F.Ll)({url:"api/RequestProcessed/accept",params:{RequestServiceId:null!==(C=s.params.RequestServiceId)&&void 0!==C?C:null,AcceptNotes:null!==(_=s.params.AcceptNotes)&&void 0!==_?_:null,AcceptImages:null!==(y=s.params.AcceptImages)&&void 0!==y?y:null},success:b=>{"function"==typeof s.callback&&s.callback(b.data||null)},error:b=>{var $;"function"==typeof s.callback&&s.callback(null==b||null===($=b.response)||void 0===$?void 0:$.data),console.error(b)},loading:s.loading,loadingController:s.loadingController})});return function(C){return D.apply(this,arguments)}}(),I=function(){var D=(0,x.A)(function*(s){var C,_,y,b;s.params=s.params||{},(0,F.Ll)({url:"api/RequestProcessed/cancel",params:{RequestProcessedId:null!==(C=s.params.RequestProcessedId)&&void 0!==C?C:null,VCancelProcessReason:null!==(_=s.params.VCancelProcessReason)&&void 0!==_?_:null,CancelReason:null!==(y=s.params.CancelReason)&&void 0!==y?y:null,CancelReasonImages:null!==(b=s.params.CancelReasonImages)&&void 0!==b?b:null},success:$=>{"function"==typeof s.callback&&s.callback($.data||null)},error:$=>{var p;"function"==typeof s.callback&&s.callback(null==$||null===(p=$.response)||void 0===p?void 0:p.data),console.error($)},loading:s.loading,loadingController:s.loadingController})});return function(C){return D.apply(this,arguments)}}(),E=function(){var D=(0,x.A)(function*(s){var C,_,y,b,$,p;s.params=s.params||{},(0,F.hm)({url:"api/RequestProcessed/get-myhistory",params:{VProcessStatus:null!==(C=s.params.VProcessStatus)&&void 0!==C?C:null,VProcessStatusMulti:null!==(_=s.params.VProcessStatusMulti)&&void 0!==_?_:null,StartDateAsString:null!==(y=s.params.StartDateAsString)&&void 0!==y?y:null,EndDateAsString:null!==(b=s.params.EndDateAsString)&&void 0!==b?b:null,PageNumber:null!==($=s.params.PageNumber)&&void 0!==$?$:1,PageSize:null!==(p=s.params.PageSize)&&void 0!==p?p:10},success:n=>{"function"==typeof s.callback&&s.callback(n.data||null)},error:n=>{var c;"function"==typeof s.callback&&s.callback(null==n||null===(c=n.response)||void 0===c?void 0:c.data),console.error(n)},loading:s.loading,loadingController:s.loadingController})});return function(C){return D.apply(this,arguments)}}(),A=function(){var D=(0,x.A)(function*(s){var C;s.params=s.params||{},(0,F.hm)({url:`api/RequestProcessed/get-detail/${s.params.RequestProcessedId}`,params:{RequestProcessedId:null!==(C=s.params.RequestProcessedId)&&void 0!==C?C:null},success:_=>{"function"==typeof s.callback&&s.callback(_.data||null)},error:_=>{var y;"function"==typeof s.callback&&s.callback(null==_||null===(y=_.response)||void 0===y?void 0:y.data),console.error(_)},loading:s.loading,loadingController:s.loadingController})});return function(C){return D.apply(this,arguments)}}()},6846:(B,M,m)=>{m.r(M),m.d(M,{RequestProcessedDetailPageModule:()=>se});var x=m(177),F=m(9417),g=m(9465),I=m(7625),E=m(467),A=m(7392),D=m(5083),s=m(7762),C=m(5312),_=m(3801),y=m(6944),b=m(7142),$=m(1038),p=m(6539),n=m(8517),c=m(6757),u=m(2021),f=m(3588),S=m(8833),e=m(4438),q=m(4842);function U(r,v){if(1&r&&e.nrm(0,"ion-img",50),2&r){const l=e.XpG(3);e.Y8G("src",l.imageUrl)}}function w(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",57),e.bIt("click",function(){e.eBV(l);const o=e.XpG(3);return e.Njj(o.getCamera())}),e.nrm(1,"ion-icon",58),e.j41(2,"ion-label"),e.EFF(3,"Ch\u1ee5p \u1ea3nh xe"),e.k0s()()}}function L(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",59),e.bIt("click",function(){e.eBV(l);const o=e.XpG(3);return e.Njj(o.getCamera())}),e.j41(1,"ion-label"),e.EFF(2,"Ch\u1ee5p l\u1ea1i"),e.k0s()()}}function J(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"T\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5"),e.k0s(),e.j41(4,"ion-buttons",44)(5,"ion-button",45),e.bIt("click",function(){e.eBV(l),e.XpG();const o=e.sdS(100);return e.Njj(null==o?null:o.dismiss())}),e.nrm(6,"ion-icon",46),e.k0s()()()(),e.j41(7,"ion-content",47)(8,"div",48)(9,"div",49),e.DNE(10,U,1,1,"ion-img",50)(11,w,4,0),e.k0s(),e.j41(12,"div",51)(13,"ion-item",52)(14,"ion-textarea",53),e.bIt("change",function(o){e.eBV(l);const t=e.XpG(2);return e.Njj(t.changeNotes(o))}),e.k0s()()()()(),e.j41(15,"ion-footer",47)(16,"div",54),e.DNE(17,L,3,0,"ion-button",55),e.j41(18,"ion-button",56),e.bIt("click",function(o){e.eBV(l),e.XpG();const t=e.sdS(100),i=e.XpG();return e.Njj(i.refuseService(o,t))}),e.j41(19,"ion-label"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()}if(2&r){const l=e.XpG(2);e.R7$(10),e.vxM(10,l.imageUrl?10:11),e.R7$(4),e.Y8G("autoGrow",!0)("value",l.dataForm.Notes),e.R7$(3),e.vxM(17,l.imageUrl?17:-1),e.R7$(3),e.JRh(e.bMT(21,5,"Refuse"))}}function z(r,v){if(1&r&&e.nrm(0,"ion-img",50),2&r){const l=e.XpG(3);e.Y8G("src",l.imageUrl)}}function H(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",57),e.bIt("click",function(){e.eBV(l);const o=e.XpG(3);return e.Njj(o.getCamera())}),e.nrm(1,"ion-icon",58),e.j41(2,"ion-label"),e.EFF(3,"Ch\u1ee5p \u1ea3nh xe"),e.k0s()()}}function K(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",59),e.bIt("click",function(){e.eBV(l);const o=e.XpG(3);return e.Njj(o.getCamera())}),e.j41(1,"ion-label"),e.EFF(2,"Ch\u1ee5p l\u1ea1i"),e.k0s()()}}function W(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"X\xe1c nh\u1eadn d\u1ecbch v\u1ee5"),e.k0s(),e.j41(4,"ion-buttons",44)(5,"ion-button",45),e.bIt("click",function(){e.eBV(l),e.XpG();const o=e.sdS(103);return e.Njj(null==o?null:o.dismiss())}),e.nrm(6,"ion-icon",46),e.k0s()()()(),e.j41(7,"ion-content",47)(8,"div",48)(9,"div",49),e.DNE(10,z,1,1,"ion-img",50)(11,H,4,0),e.k0s(),e.j41(12,"div",51)(13,"ion-item",52)(14,"ion-textarea",60),e.bIt("change",function(o){e.eBV(l);const t=e.XpG(2);return e.Njj(t.changeNotes(o))}),e.k0s()()()()(),e.j41(15,"ion-footer",47)(16,"div",54),e.DNE(17,K,3,0,"ion-button",55),e.j41(18,"ion-button",61),e.bIt("click",function(o){e.eBV(l),e.XpG();const t=e.sdS(103),i=e.XpG();return e.Njj(i.confirmService(o,t))}),e.j41(19,"ion-label"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()}if(2&r){const l=e.XpG(2);e.R7$(10),e.vxM(10,l.imageUrl?10:11),e.R7$(4),e.Y8G("autoGrow",!0)("value",l.dataForm.Notes),e.R7$(3),e.vxM(17,l.imageUrl?17:-1),e.R7$(3),e.JRh(e.bMT(21,5,"Confirm"))}}function Y(r,v){if(1&r){const l=e.RV6();e.j41(0,"div",62)(1,"ion-button",63),e.bIt("click",function(){e.eBV(l),e.XpG();const o=e.sdS(100);return e.Njj(null==o?null:o.present())}),e.j41(2,"ion-label"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"ion-button",61),e.bIt("click",function(){e.eBV(l),e.XpG();const o=e.sdS(103);return e.Njj(null==o?null:o.present())}),e.j41(6,"ion-label"),e.EFF(7,"X\xe1c nh\u1eadn kh\xe1ch h\xe0ng"),e.k0s()()(),e.j41(8,"div",64)(9,"ion-button",65),e.bIt("click",function(o){e.eBV(l);const t=e.XpG(2);return e.Njj(t.openDirection(o))}),e.j41(10,"ion-label"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"ion-icon",66),e.k0s()()}2&r&&(e.R7$(3),e.JRh(e.bMT(4,2,"Refuse")),e.R7$(8),e.JRh(e.bMT(12,4,"Direction")))}function Q(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",61),e.bIt("click",function(){let o;e.eBV(l);const t=e.XpG(3);return e.Njj(t.navigateByUrl(t.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",null!==(o=null==t.requestProcessed||null==t.requestProcessed.ChargeSessionId?null:t.requestProcessed.ChargeSessionId.toString())&&void 0!==o?o:"")))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function Z(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",68),e.bIt("click",function(){e.eBV(l);const o=e.XpG(3);return e.Njj(o.startService())}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&r){const l=e.XpG(3);e.Y8G("disabled",l.isStartDisabled),e.R7$(2),e.JRh(e.bMT(3,2,"StartChargingSession"))}}function ee(r,v){if(1&r&&(e.j41(0,"div",62),e.DNE(1,Q,4,3,"ion-button",67)(2,Z,4,4),e.k0s()),2&r){const l=e.XpG(2);e.R7$(),e.vxM(1,null!=l.requestProcessed&&l.requestProcessed.ChargeSessionId?1:2)}}function ne(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-button",61),e.bIt("click",function(){let o;e.eBV(l);const t=e.XpG(3);return e.Njj(t.navigateByUrl(t.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",null!==(o=null==t.requestProcessed||null==t.requestProcessed.ChargeSessionId?null:t.requestProcessed.ChargeSessionId.toString())&&void 0!==o?o:"")))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function te(r,v){if(1&r&&(e.j41(0,"div",62),e.DNE(1,ne,4,3,"ion-button",67),e.k0s()),2&r){const l=e.XpG(2);e.R7$(),e.vxM(1,null!=l.requestProcessed&&l.requestProcessed.ChargeSessionId?1:-1)}}function oe(r,v){if(1&r){const l=e.RV6();e.j41(0,"ion-content")(1,"ion-refresher",5),e.bIt("ionRefresh",function(o){e.eBV(l);const t=e.XpG();return e.Njj(t.onIonRefresher(o))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"h4",10)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",11)(11,"small"),e.EFF(12),e.k0s()(),e.nrm(13,"hr",12),e.j41(14,"div",13)(15,"span",14)(16,"small"),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"b"),e.EFF(20),e.k0s()()(),e.j41(21,"span",15)(22,"small"),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()(),e.nrm(28,"div",16),e.k0s()()(),e.j41(29,"div",17)(30,"div",18)(31,"div",19)(32,"div",20)(33,"div",21)(34,"div",22)(35,"div",23)(36,"ion-chip",24),e.nrm(37,"ion-icon",25),e.j41(38,"ion-label"),e.EFF(39),e.k0s()()()()(),e.j41(40,"div",26)(41,"div",27)(42,"div",28)(43,"div"),e.nrm(44,"ion-img",29),e.k0s(),e.j41(45,"div",30)(46,"div",31),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"div")(50,"strong"),e.EFF(51),e.k0s()()()()(),e.j41(52,"div",32)(53,"h6",33)(54,"b"),e.EFF(55,"Ng\u01b0\u1eddi y\xeau c\u1ea7u"),e.k0s()(),e.nrm(56,"hr",34),e.j41(57,"div")(58,"b",35),e.EFF(59),e.k0s()()(),e.j41(60,"div",32)(61,"h6",33)(62,"b"),e.EFF(63,"Th\u1eddi gian g\u1eedi y\xeau c\u1ea7u"),e.k0s()(),e.nrm(64,"hr",34),e.j41(65,"div")(66,"b",35),e.EFF(67),e.k0s()()(),e.j41(68,"div",32)(69,"h6",33)(70,"b"),e.EFF(71,"Th\u1eddi gian h\u1eb9n s\u1ea1c"),e.k0s()(),e.nrm(72,"hr",34),e.j41(73,"div")(74,"b",35),e.EFF(75),e.k0s()()()()()(),e.j41(76,"div",19)(77,"div",36)(78,"div",37)(79,"div",38)(80,"b",39),e.EFF(81,"Chi ti\u1ebft d\u1ecbch v\u1ee5"),e.k0s()()(),e.nrm(82,"hr",40),e.j41(83,"div",41)(84,"table",42)(85,"tr")(86,"td"),e.EFF(87),e.nI1(88,"translate"),e.k0s(),e.j41(89,"td")(90,"b"),e.EFF(91),e.k0s()()(),e.j41(92,"tr")(93,"td"),e.EFF(94),e.nI1(95,"translate"),e.k0s(),e.j41(96,"td")(97,"b"),e.EFF(98),e.k0s()()()()()()()()(),e.j41(99,"ion-modal",null,0),e.DNE(101,J,22,7,"ng-template"),e.k0s(),e.j41(102,"ion-modal",null,1),e.DNE(104,W,22,7,"ng-template"),e.k0s()(),e.j41(105,"ion-footer",43),e.DNE(106,Y,14,6)(107,ee,3,1)(108,te,2,1),e.k0s()}if(2&r){let l,a,o,t;const i=e.XpG();e.R7$(9),e.JRh(null==i.requestProcessed?null:i.requestProcessed.ServiceName),e.R7$(3),e.JRh(null==i.requestProcessed?null:i.requestProcessed.RequestAddress),e.R7$(5),e.SpI("",e.bMT(18,21,"YourWay")," "),e.R7$(3),e.SpI("",i.getDistance2CL()," km"),e.R7$(3),e.SpI("",e.bMT(24,23,"EstimatedTime")," "),e.R7$(3),e.Lme("",i.getTime2CL()," ",e.bMT(27,25,"Minute"),""),e.R7$(6),e.HbH("border-"+i.APP_FUNC_GetColor_VProcessStatus(null==i.requestProcessed?null:i.requestProcessed.VProcessStatus)),e.R7$(4),e.Y8G("color",i.APP_FUNC_GetColor_VProcessStatus(null==i.requestProcessed?null:i.requestProcessed.VProcessStatus)),e.R7$(3),e.JRh(null==i.requestProcessed?null:i.requestProcessed.VProcessStatusName),e.R7$(8),e.JRh(null!==(l=null==i.requestProcessed?null:i.requestProcessed.ChargePackageName)&&void 0!==l?l:e.bMT(48,27,"ChargingPackage")),e.R7$(4),e.SpI("",i.APP_FUNC_FormatMoney(null!==(a=null==i.requestProcessed?null:i.requestProcessed.PayValue)&&void 0!==a?a:0),"\u0111"),e.R7$(8),e.JRh(null==i.requestProcessed?null:i.requestProcessed.CustomerFullName),e.R7$(8),e.JRh(i.APP_FUNC_FormatDate(null==i.requestProcessed?null:i.requestProcessed.RequestDate)),e.R7$(8),e.JRh(i.APP_FUNC_FormatDate((null==i.requestProcessed?null:i.requestProcessed.ExecutionDate)+" "+(null==i.requestProcessed?null:i.requestProcessed.ExecutionTime))),e.R7$(12),e.JRh(e.bMT(88,29,"ChargingPackage")),e.R7$(4),e.JRh(null==i.requestProcessed?null:i.requestProcessed.ChargePackageName),e.R7$(3),e.JRh(e.bMT(95,31,"PayValue")),e.R7$(4),e.SpI("",i.APP_FUNC_FormatMoney(null!==(o=null==i.requestProcessed?null:i.requestProcessed.PayValue)&&void 0!==o?o:0),"\u0111"),e.R7$(8),e.vxM(106,(t=null==i.requestProcessed?null:i.requestProcessed.VProcessStatus)===i.v_process_status.NhanDichVu?106:t===i.v_process_status.DangPhucVu?107:t===i.v_process_status.HoanTat?108:-1)}}const ae=[{path:"",component:(()=>{var r;class v{constructor(a,o,t,i,h,P){var k;this.router=a,this.activatedRoute=o,this.modalController=t,this.animationController=i,this.toastController=h,this.loadingController=P,this.APP_ROUTE=S._,this.APP_FUNC_FormatDate=n.Rv,this.APP_FUNC_FormatMoney=n.xi,this.APP_FUNC_GetColor_VProcessStatus=n.R0,this.v_process_status=f.Sx,this.dataForm={};let d=null!==(k=o.snapshot.params.id)&&void 0!==k?k:"";d&&(this.RequestProcessedId=parseFloat(d))}ngOnInit(){var a=this;this.IsOnInit=!0,(0,E.A)(function*(){(yield(0,p.kU)())&&a.refreshData(()=>{a.refreshCurrentPosition(()=>{})})})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(a){this.refreshData(()=>{a.target.complete()})}refreshData(a){var o=this;return(0,E.A)(function*(){(0,b.P1)({params:{RequestProcessedId:o.RequestProcessedId},callback:t=>{var i,h,P,k,d;o.response=t,null!=t&&t.Succeeded?(o.requestProcessed=null!==(i=t.Data)&&void 0!==i?i:{},o.customerPosition={lat:null!==(h=null===(P=o.requestProcessed)||void 0===P?void 0:P.RequestLat)&&void 0!==h?h:0,lng:null!==(k=null===(d=o.requestProcessed)||void 0===d?void 0:d.RequestLong)&&void 0!==k?k:0}):(0,u.cX)(o.toastController,{},t).then(R=>{R.onDidDismiss().then(j=>{o.router.navigateByUrl(S._.REQUEST_SERVICE)}),R.present()}),a&&a()}})})()}initMap(){var a=this;const o=function(){var i=(0,E.A)(function*(){let h,P,d=window.google.maps;const{Map:R}=yield d.importLibrary("maps"),{AdvancedMarkerElement:j}=yield d.importLibrary("marker");let T=new R(document.getElementById("map"),{zoom:12,center:a.customerPosition,disableDefaultUI:!0,mapId:"DEMO_MAP_ID"});a.customerPosition&&(h=new j({map:T,position:a.customerPosition,title:"V\u1ecb tr\xed kh\xe1ch h\xe0ng \u0111\u1eb7t l\u1ecbch"})),a.employePosition&&(P=new j({map:T,position:a.employePosition,title:"V\u1ecb tr\xed nh\xe2n vi\xean iSAC"})),a.customerPosition&&a.employePosition&&setTimeout(()=>{var N,V,G,O,le=d.DirectionsService(),X=d.DirectionsRenderer();X.setMap(T),le.route({origin:d.LatLng(null===(N=a.employePosition)||void 0===N?void 0:N.lat,null===(V=a.employePosition)||void 0===V?void 0:V.lng),destination:d.LatLng(null===(G=a.customerPosition)||void 0===G?void 0:G.lat,null===(O=a.customerPosition)||void 0===O?void 0:O.lng),travelMode:"DRIVING"},function(ce,ue){"OK"==ue&&X.setDirections(ce)})},1e3)});return function(){return i.apply(this,arguments)}}();window.initMap=o;let t=document.createElement("script");t.async=!0,t.src=`https://maps.google.com/maps/api/js?key=${C.c.apiKey}&libraries=places,marker,routes&callback=initMap&loading=async`,document.head.append(t)}refreshCurrentPosition(a){var o=this;return(0,E.A)(function*(){let t=()=>{(0,_.Xz)().then(i=>{o.employePosition=i,a&&a()})};s.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var i=(0,E.A)(function*(h){if(h.coords){var P={lat:h.coords.latitude,lng:h.coords.longitude};yield(0,_.fj)({params:P})}t()});return function(h){return i.apply(this,arguments)}}()).catch(()=>{t()})})()}navigateByUrl(a){this.router.navigateByUrl(a)}getDistance2CL(){return this.employePosition&&this.customerPosition?(0,n.Rw)((0,n.GH)(this.employePosition,this.customerPosition),10):0}getTime2CL(){return this.employePosition&&this.customerPosition?(0,n.Rw)(3*(0,n.GH)(this.employePosition,this.customerPosition),1):0}openDirection(a){var o=this;return(0,E.A)(function*(){var t,i;yield A.P.open({url:(0,n.LZ)(null!==(t=o.employePosition)&&void 0!==t?t:yield(0,_.Xz)(),null!==(i=o.customerPosition)&&void 0!==i?i:yield(0,_.Xz)())})})()}refuseService(a,o){var t=this;return(0,E.A)(function*(){var i=[];t.imageFile&&i.push(new Promise((P,k)=>{(0,$.v)({loadingController:t.loadingController,params:{file:t.imageFile,subFolder:"ServiceCancel",fileType:"image"},callback:d=>{0==(null==d?void 0:d.ReturnCode)?(t.dataForm.FilePath=`${d.path}/${d.file.name}`,t.imageFile=void 0):(0,u.cX)(t.toastController,{},d).then(R=>R.present()),P(d)}})}));var h=()=>{var P,k,d;t.dataForm.FilePath&&t.dataForm.Notes?(0,b.Is)({loadingController:t.loadingController,params:{RequestProcessedId:null===(P=t.requestProcessed)||void 0===P?void 0:P.RequestProcessedId,VCancelProcessReason:f.B1.NhanVienTuChoi,CancelReason:null===(k=t.dataForm)||void 0===k?void 0:k.Notes,CancelReasonImages:null===(d=t.dataForm)||void 0===d?void 0:d.FilePath},callback:R=>{null!=R&&R.Succeeded?(null==o||o.dismiss(),t.router.navigateByUrl(S._.REQUEST_PROCESSED),(0,u.cX)(t.toastController,{color:"danger",message:"\u0110\xe3 h\u1ee7y d\u1ecbch v\u1ee5"}).then(j=>j.present())):(0,u.cX)(t.toastController,{},R).then(j=>j.present())}}):(0,u.cX)(t.toastController,{color:"warning",message:"Vui l\xf2ng ch\u1ee5p \u1ea3nh v\xe0 nh\u1eadp l\xed do t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5!"}).then(R=>R.present())};i.length?Promise.all(i).then(()=>{h()}):h()})()}confirmService(a,o){var t=this;return(0,E.A)(function*(){var i=[];t.imageFile&&i.push(new Promise((P,k)=>{(0,$.v)({loadingController:t.loadingController,params:{file:t.imageFile,subFolder:"ServiceAccept",fileType:"image"},callback:d=>{0==(null==d?void 0:d.ReturnCode)?(t.dataForm.FilePath=`${d.path}/${d.file.name}`,t.imageFile=void 0):(0,u.cX)(t.toastController,{},d).then(R=>R.present()),P(d)}})}));var h=()=>{var P,k,d;t.dataForm.FilePath?(0,b.w7)({loadingController:t.loadingController,params:{RequestServiceId:null===(P=t.requestProcessed)||void 0===P?void 0:P.RequestServiceId,AcceptNotes:null===(k=t.dataForm)||void 0===k?void 0:k.Notes,AcceptImages:null===(d=t.dataForm)||void 0===d?void 0:d.FilePath},callback:R=>{null!=R&&R.Succeeded?(null==o||o.dismiss(),t.refreshData(()=>{})):(0,u.cX)(t.toastController,{},R).then(j=>j.present())}}):(0,u.cX)(t.toastController,{color:"warning",message:"Vui l\xf2ng ch\u1ee5p \u1ea3nh xe \u0111\u1ec3 x\xe1c nh\u1eadn d\u1ecbch v\u1ee5!"}).then(R=>R.present())};i.length?Promise.all(i).then(()=>{h()}):h()})()}startService(){var a=this;return(0,E.A)(function*(){var o;a.isStartDisabled=!0,(0,y.aN)({loadingController:a.loadingController,params:{RequestProcessedId:null===(o=a.requestProcessed)||void 0===o?void 0:o.RequestProcessedId},callback:t=>{var i,h;null!=t&&t.Succeeded&&null!=t&&t.Data?a.router.navigateByUrl(S._.CHARGING_SESSION_DETAIL.replace(":id",null!==(i=null==t||null===(h=t.Data)||void 0===h?void 0:h.toString())&&void 0!==i?i:"")):((0,u.cX)(a.toastController,{},t).then(P=>P.present()),a.isStartDisabled=!1)}})})()}changeNotes(a){var o=this;return(0,E.A)(function*(){var t;o.dataForm.Notes=null==a||null===(t=a.target)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.trim()})()}getCamera(){var a=this;return(0,E.A)(function*(){["ios","android"].includes(D.Ii.getPlatform())?(0,c.x)({toastController:a.toastController,modalController:a.modalController},o=>{null!=o&&o.length&&(a.imageFile=o[0],a.imageUrl=URL.createObjectURL(o[0]))}):(0,c.$3)({toastController:a.toastController,modalController:a.modalController},o=>{null!=o&&o.length&&(a.imageFile=o[0],a.imageUrl=URL.createObjectURL(o[0]))})})()}}return(r=v).\u0275fac=function(a){return new(a||r)(e.rXU(I.Ix),e.rXU(I.nX),e.rXU(g.W3),e.rXU(g.Hx),e.rXU(g.K_),e.rXU(g.Xi))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-request-processed-detail"]],decls:8,vars:5,consts:[["modalRefuseService",""],["modalConfirmService",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"bg-primary"],[1,"container","card-location","text-white","pb-2"],[1,"row"],[1,"col-auto"],[1,"d-flex","align-items-center","my-0"],[1,"d-flex","align-items-center","mt-1"],[1,"border-gray","mt-2","mb-1"],[1,"text-right","text-nowrap"],[1,"mr-4"],[1,"d-inline-block"],[1,"col","p-0"],[1,"container","pt-4","mt-2"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mb-4"],[1,"flex-grow-1","card-day","d-flex","flex-column","rounded","bg-white","border"],[1,"flex-grow-1"],[1,"d-flex","justify-content-center"],[1,"card-status"],[1,"no-opacity",3,"color"],["src","../../../assets/icon/tabs/service.svg"],[1,"p-2"],[1,"card-package","rounded","border","d-flex","align-items-stretch","p-2"],[1,"d-flex","align-items-center"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"align-self-stretch","pl-2","d-flex","flex-column","justify-content-between"],[1,"text-muted","fs-3"],[1,"card-day","bg-white","p-2","mt-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"text-medium"],[1,"card-vehicle","h-100","bg-white","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-ellipsis"],[1,"mr-1"],[1,"mt-2","mb-2"],[1,"d-flex","align-items-start"],[1,"table","table-borderless","m-0"],[1,"ion-padding-vertical"],["slot","end"],[3,"click"],["name","close-outline",1,"fs-24"],[1,"ion-padding"],[1,"w-100","min-h-100","d-flex","flex-column","align-items-center","justify-content-center"],[1,"flex-grow-1","d-flex","flex-column","align-items-center","justify-content-center"],[1,"max-w-100","max-h-100",3,"src"],[1,"w-100","ion-item-input"],["lines","none"],["maxlength","250","placeholder","Nh\u1eadp l\xed do t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5!",3,"change","autoGrow","value"],[1,"d-flex"],["color","medium","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","danger","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","medium",3,"click"],["slot","start","name","camera-outline"],["color","medium","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["maxlength","250","placeholder","Nh\u1eadp l\xed do n\u1ebfu c\xf3",3,"change","autoGrow","value"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"container","d-flex","align-items-center","justify-content-between"],["color","warning","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"container","d-flex"],["color","primary","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click"],["slot","end","src","../../../assets/icon/ion-icon/direction.svg"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","primary","shape","round","expand","block","fill","outline",1,"flex-grow-1","m-1",3,"click","disabled"]],template:function(a,o){1&a&&(e.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.DNE(7,oe,109,33)),2&a&&(e.R7$(3),e.Y8G("defaultHref",o.APP_ROUTE.TABS_DEFAULT),e.R7$(2),e.JRh(e.bMT(6,3,"ServiceDetail")),e.R7$(2),e.vxM(7,o.response?7:-1))},dependencies:[g.Jm,g.QW,g.ZB,g.W9,g.M0,g.eU,g.iq,g.KW,g.uz,g.he,g.To,g.Ki,g.nc,g.BC,g.ai,g.Sb,g.Gw,g.el,q.D9],styles:[".card-location[_ngcontent-%COMP%]{position:relative;z-index:1;background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:top center;background-size:auto 100%}.card-location.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-location[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;--border-radius: .5rem;border:1px solid var(--ion-color-light)}.card-location[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-location[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}#map[_ngcontent-%COMP%]{width:100%;height:100%}.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{margin-top:-1rem}.card-day[_ngcontent-%COMP%]   .card-package[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-vehicle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-vehicle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}.card-vehicle[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),v})()}];let ie=(()=>{var r;class v{}return(r=v).\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[I.iI.forChild(ae),I.iI]}),v})();var re=m(3890);let se=(()=>{var r;class v{}return(r=v).\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[x.MD,F.YN,g.bv,ie,re.x]}),v})()}}]);