"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4650],{5454:(A,I,d)=>{d.d(I,{K5:()=>y,X1:()=>f,c5:()=>R,cj:()=>p,fy:()=>E,ke:()=>P,nj:()=>k,wP:()=>v});var b=d(467),S=d(5972);const f=function(){var g=(0,b.A)(function*(a){var c,_,m,C,M,F,x,T,j,U,e;a.params=a.params||{},(0,S.Ll)({url:"api/RequestService/create",params:{ServiceId:null!==(c=a.params.ServiceId)&&void 0!==c?c:null,ChargePackageId:null!==(_=a.params.ChargePackageId)&&void 0!==_?_:null,RequestAddress:null!==(m=a.params.RequestAddress)&&void 0!==m?m:null,RequestLat:null!==(C=a.params.RequestLat)&&void 0!==C?C:null,RequestLong:null!==(M=a.params.RequestLong)&&void 0!==M?M:null,DestAddress:null!==(F=a.params.DestAddress)&&void 0!==F?F:null,DestLat:null!==(x=a.params.DestLat)&&void 0!==x?x:null,DestLong:null!==(T=a.params.DestLong)&&void 0!==T?T:null,ExecutionDateAsString:null!==(j=a.params.ExecutionDate)&&void 0!==j?j:null,ExecutionTimeAsString:null!==(U=a.params.ExecutionTime)&&void 0!==U?U:null,Notes:null!==(e=a.params.Notes)&&void 0!==e?e:null},success:$=>{"function"==typeof a.callback&&a.callback($.data||null)},error:$=>{var O;"function"==typeof a.callback&&a.callback(null==$||null===(O=$.response)||void 0===O?void 0:O.data),console.error($)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),E=function(){var g=(0,b.A)(function*(a){var c,_,m,C;a.params=a.params||{},(0,S.hm)({url:"api/RequestService/get-myhistory",params:{VRequestStatus:null!==(c=a.params.VRequestStatus)&&void 0!==c?c:null,VRequestStatusMulti:null!==(_=a.params.VRequestStatusMulti)&&void 0!==_?_:null,PageNumber:null!==(m=a.params.PageNumber)&&void 0!==m?m:1,PageSize:null!==(C=a.params.PageSize)&&void 0!==C?C:10},success:M=>{"function"==typeof a.callback&&a.callback(M.data||null)},error:M=>{var F;"function"==typeof a.callback&&a.callback(null==M||null===(F=M.response)||void 0===F?void 0:F.data),console.error(M)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),y=function(){var g=(0,b.A)(function*(a){var c;a.params=a.params||{},(0,S.hm)({url:`api/RequestService/get-detail/${a.params.RequestServiceId}`,params:{RequestServiceId:null!==(c=a.params.RequestServiceId)&&void 0!==c?c:null},success:_=>{"function"==typeof a.callback&&a.callback(_.data||null)},error:_=>{var m;"function"==typeof a.callback&&a.callback(null==_||null===(m=_.response)||void 0===m?void 0:m.data),console.error(_)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),p=function(){var g=(0,b.A)(function*(a){var c,_;a.params=a.params||{},(0,S.hm)({url:"api/RequestService/get-requesting",params:{PageNumber:null!==(c=a.params.PageNumber)&&void 0!==c?c:1,PageSize:null!==(_=a.params.PageSize)&&void 0!==_?_:10},success:m=>{"function"==typeof a.callback&&a.callback(m.data||null)},error:m=>{var C;"function"==typeof a.callback&&a.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),P=function(){var g=(0,b.A)(function*(a){var c,_;a.params=a.params||{},(0,S.hm)({url:"api/RequestService/get-waitconfirm",params:{PageNumber:null!==(c=a.params.PageNumber)&&void 0!==c?c:1,PageSize:null!==(_=a.params.PageSize)&&void 0!==_?_:10},success:m=>{"function"==typeof a.callback&&a.callback(m.data||null)},error:m=>{var C;"function"==typeof a.callback&&a.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),R=function(){var g=(0,b.A)(function*(a){var c;a.params=a.params||{},(0,S.Ll)({url:"api/RequestService/wait-confirm",params:{RequestServiceId:null!==(c=a.params.RequestServiceId)&&void 0!==c?c:null},success:_=>{"function"==typeof a.callback&&a.callback(_.data||null)},error:_=>{var m;"function"==typeof a.callback&&a.callback(null==_||null===(m=_.response)||void 0===m?void 0:m.data),console.error(_)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),v=function(){var g=(0,b.A)(function*(a){var c,_;a.params=a.params||{},(0,S.Ll)({url:"api/RequestService/assign",params:{RequestServiceId:null!==(c=a.params.RequestServiceId)&&void 0!==c?c:null,StaffUserId:null!==(_=a.params.StaffUserId)&&void 0!==_?_:null},success:m=>{"function"==typeof a.callback&&a.callback(m.data||null)},error:m=>{var C;"function"==typeof a.callback&&a.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}(),k=function(){var g=(0,b.A)(function*(a){var c,_;a.params=a.params||{},(0,S.Ll)({url:"api/RequestService/decline",params:{RequestServiceId:null!==(c=a.params.RequestServiceId)&&void 0!==c?c:null,Reason:null!==(_=a.params.Reason)&&void 0!==_?_:null},success:m=>{"function"==typeof a.callback&&a.callback(m.data||null)},error:m=>{var C;"function"==typeof a.callback&&a.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:a.loading,loadingController:a.loadingController})});return function(c){return g.apply(this,arguments)}}()},9946:(A,I,d)=>{d.d(I,{ks:()=>r,sh:()=>E,z:()=>f});var b=d(467),S=d(5972);const f=function(){var y=(0,b.A)(function*(p){p.params=p.params||{},(0,S.hm)({url:"api/User/get-user",params:{},success:P=>{"function"==typeof p.callback&&p.callback(P.data||null)},error:P=>{var R;"function"==typeof p.callback&&p.callback(null==P||null===(R=P.response)||void 0===R?void 0:R.data),console.error(P)},loading:p.loading,loadingController:p.loadingController})});return function(P){return y.apply(this,arguments)}}(),r=function(){var y=(0,b.A)(function*(p){var P,R,v,k,g,a;p.params=p.params||{},(0,S.IH)({url:"api/User/update-user",params:{FullName:null!==(P=p.params.FullName)&&void 0!==P?P:null,PersonEmail:null!==(R=p.params.Email)&&void 0!==R?R:null,Phone:null!==(v=p.params.Phone)&&void 0!==v?v:null,Address:null!==(k=p.params.Address)&&void 0!==k?k:null,Gender:null!==(g=p.params.Gender)&&void 0!==g?g:null,Birthday:null!==(a=p.params.Birthday)&&void 0!==a?a:null},success:c=>{"function"==typeof p.callback&&p.callback(c.data||null)},error:c=>{var _;"function"==typeof p.callback&&p.callback(null==c||null===(_=c.response)||void 0===_?void 0:_.data),console.error(c)},loading:p.loading,loadingController:p.loadingController})});return function(P){return y.apply(this,arguments)}}(),E=function(){var y=(0,b.A)(function*(p){var P,R;p.params=p.params||{},(0,S.IH)({url:"api/User/update-avatar",params:{UserId:null!==(P=p.params.UserId)&&void 0!==P?P:null,Avatar:null!==(R=p.params.Avatar)&&void 0!==R?R:null},success:v=>{"function"==typeof p.callback&&p.callback(v.data||null)},error:v=>{var k;"function"==typeof p.callback&&p.callback(null==v||null===(k=v.response)||void 0===k?void 0:k.data),console.error(v)},loading:p.loading,loadingController:p.loadingController})});return function(P){return y.apply(this,arguments)}}()},9777:(A,I,d)=>{d.d(I,{x:()=>P});var b=d(467),S=d(8833),f=d(9864),r=d(4438),E=d(7625),y=d(9465),p=d(4842);let P=(()=>{var R;class v{constructor(g,a,c){var _;this.router=g,this.modalController=a,this.toastController=c,this.APP_ROUTE=S._,this.routerUrl=null===(_=g.url)||void 0===_?void 0:_.replace(/^\//,"").replace(/\/$/,"")}ngOnInit(){}presentModalBarcodeScanning(g){var a=this;return(0,b.A)(function*(){(0,f.V)({modalController:a.modalController,toastController:a.toastController})})()}navigateByUrl(g){var a=this;return(0,b.A)(function*(){a.router.navigateByUrl(g)})()}}return(R=v).\u0275fac=function(g){return new(g||R)(r.rXU(E.Ix),r.rXU(y.W3),r.rXU(y.K_))},R.\u0275cmp=r.VBU({type:R,selectors:[["app-footer-tabs"]],decls:22,vars:20,consts:[[1,"px-0"],[3,"click"],["src","../../assets/icon/ion-icon/home.svg"],["src","../../assets/icon/tabs/service.svg"],["src","../../assets/icon/ion-icon/charge.svg"],["src","../../assets/icon/ion-icon/person.svg"]],template:function(g,a){1&g&&(r.j41(0,"ion-footer")(1,"ion-tab-bar",0)(2,"ion-tab-button",1),r.bIt("click",function(){return a.navigateByUrl(a.APP_ROUTE.DAILY_WORK)}),r.nrm(3,"ion-icon",2),r.j41(4,"ion-label"),r.EFF(5),r.nI1(6,"translate"),r.k0s()(),r.j41(7,"ion-tab-button",1),r.bIt("click",function(){return a.navigateByUrl(a.APP_ROUTE.REQUEST_PROCESSED)}),r.nrm(8,"ion-icon",3),r.j41(9,"ion-label"),r.EFF(10),r.nI1(11,"translate"),r.k0s()(),r.j41(12,"ion-tab-button",1),r.bIt("click",function(){return a.navigateByUrl(a.APP_ROUTE.CHARGING_SESSION)}),r.nrm(13,"ion-icon",4),r.j41(14,"ion-label"),r.EFF(15),r.nI1(16,"translate"),r.k0s()(),r.j41(17,"ion-tab-button",1),r.bIt("click",function(){return a.navigateByUrl(a.APP_ROUTE.USER)}),r.nrm(18,"ion-icon",5),r.j41(19,"ion-label"),r.EFF(20),r.nI1(21,"translate"),r.k0s()()()()),2&g&&(r.R7$(2),r.HbH(a.routerUrl==a.APP_ROUTE.DAILY_WORK?"tab-selected":""),r.R7$(3),r.JRh(r.bMT(6,12,"Home")),r.R7$(2),r.HbH(a.routerUrl==a.APP_ROUTE.REQUEST_PROCESSED?"tab-selected":""),r.R7$(3),r.JRh(r.bMT(11,14,"Service")),r.R7$(2),r.HbH(a.routerUrl==a.APP_ROUTE.CHARGING_SESSION?"tab-selected":""),r.R7$(3),r.JRh(r.bMT(16,16,"Charger")),r.R7$(2),r.HbH(a.routerUrl==a.APP_ROUTE.USER?"tab-selected":""),r.R7$(3),r.JRh(r.bMT(21,18,"User")))},dependencies:[y.M0,y.iq,y.he,y.Jq,y.qW,p.D9],styles:["ion-footer[_ngcontent-%COMP%]{border:0;box-shadow:none}ion-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{height:4rem;align-items:flex-end;--border: 0;--ion-background-color: transparent;background:var(--ion-color-light)}ion-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{max-width:none;height:auto;--padding-top: .5rem;--padding-end: 0;--padding-bottom: .5rem;--padding-start: 0;--color: var(--ion-color-medium);--background: transparent}ion-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin:0}ion-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{height:1rem;margin:.25rem 0 0;line-height:1rem;font-size:.625rem;font-family:Roboto Condensed,Roboto,Inter;font-weight:300;text-transform:uppercase}ion-footer[_ngcontent-%COMP%]   .btn-qrcode[_ngcontent-%COMP%]{align-items:flex-start}ion-footer[_ngcontent-%COMP%]   .btn-qrcode[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem!important;border-radius:50%;color:#fff;background:#00a45f;box-shadow:0 0 0 .35rem #d6fee6}"]}),v})()},4650:(A,I,d)=>{d.r(I),d.d(I,{ServicePageModule:()=>Re});var b=d(177),S=d(9417),f=d(9465),r=d(7625),E=d(467),y=d(5312),p=d(3034),P=d(5454),R=d(5972);const v=function(){var t=(0,E.A)(function*(o){var n,l,i;o.params=o.params||{},(0,R.hm)({url:"api/ServiceUserSupport/get-myservices",params:{ExceptDefaultService:null!==(n=o.params.ExceptDefaultService)&&void 0!==n?n:null,PageNumber:null!==(l=o.params.PageNumber)&&void 0!==l?l:1,PageSize:null!==(i=o.params.PageSize)&&void 0!==i?i:10},success:s=>{"function"==typeof o.callback&&o.callback(s.data||null)},error:s=>{var u;"function"==typeof o.callback&&o.callback(null==s||null===(u=s.response)||void 0===u?void 0:u.data),console.error(s)},loading:o.loading,loadingController:o.loadingController})});return function(n){return t.apply(this,arguments)}}();var g=d(9946);const a=function(){var t=(0,E.A)(function*(o){o.params=o.params||{},(0,R.hm)({url:"api/Wallet/get-mywallet",success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var l;"function"==typeof o.callback&&o.callback(null==n||null===(l=n.response)||void 0===l?void 0:l.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(n){return t.apply(this,arguments)}}(),c=function(){var t=(0,E.A)(function*(o){var n,l,i;o.params=o.params||{},(0,R.Ll)({url:"api/Wallet/recharge-mywallet",params:{WalletRechargePackageId:null!==(n=o.params.WalletRechargePackageId)&&void 0!==n?n:null,PmCode:null!==(l=o.params.PmCode)&&void 0!==l?l:null,PlatformType:null!==(i=o.params.PlatformType)&&void 0!==i?i:null},success:s=>{"function"==typeof o.callback&&o.callback(s.data||null)},error:s=>{var u;"function"==typeof o.callback&&o.callback(null==s||null===(u=s.response)||void 0===u?void 0:u.data),console.error(s)},loading:o.loading,loadingController:o.loadingController})});return function(n){return t.apply(this,arguments)}}(),_=function(){var t=(0,E.A)(function*(o){var n,l;o.params=o.params||{},(0,R.hm)({url:"api/WalletRechargePackage/get-packages",params:{PageNumber:null!==(n=o.params.PageNumber)&&void 0!==n?n:1,PageSize:null!==(l=o.params.PageSize)&&void 0!==l?l:10},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var s;"function"==typeof o.callback&&o.callback(null==i||null===(s=i.response)||void 0===s?void 0:s.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(n){return t.apply(this,arguments)}}();var C=d(6539),M=d(2313),F=d(8517),x=d(2021),T=d(3588),j=d(8605),U=d(8833),e=d(4438),$=d(3656),O=d(9777),W=d(4842);const N=()=>[0,1],B=()=>({}),G=t=>({$implicit:t});function V(t,o){if(1&t&&e.eu8(0,15),2&t){let n;const l=e.XpG(2),i=e.sdS(25);e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(3,G,null!==(n=l.wallet)&&void 0!==n?n:e.lJ4(2,B)))}}function w(t,o){if(1&t&&e.eu8(0,15),2&t){let n;const l=e.XpG(2),i=e.sdS(27);e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(3,G,null!==(n=l.wallet)&&void 0!==n?n:e.lJ4(2,B)))}}function X(t,o){if(1&t&&(e.j41(0,"div",7),e.DNE(1,V,1,5,"ng-container",15)(2,w,1,5),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.vxM(1,n.user.VUserClassify==n.v_user_classify.TaiKhoanVIP?1:n.user.VUserClassify==n.v_user_classify.TaiKhoanPhoThong?2:-1)}}function q(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.navigateToServiceDetail(i.requestServices_Medium))}),e.j41(1,"ion-text",19)(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"ion-label"),e.EFF(5,"d\u1ecbch v\u1ee5 \u0111ang y\xeau c\u1ea7u"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(3),e.JRh(n.requestServices_Medium.length)}}function L(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.navigateToServiceDetail(i.requestServices_Warning))}),e.j41(1,"ion-text",19)(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"ion-label"),e.EFF(5,"d\u1ecbch v\u1ee5 \u0111ang th\u1ef1c hi\u1ec7n"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(3),e.JRh(n.requestServices_Warning.length)}}function z(t,o){if(1&t&&(e.j41(0,"div",12)(1,"ion-list",16),e.DNE(2,q,6,1,"ion-item",17)(3,L,6,1,"ion-item",17),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.vxM(2,n.requestServices_Medium.length?2:-1),e.R7$(),e.vxM(3,n.requestServices_Warning.length?3:-1)}}function J(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-item",22),e.bIt("click",function(){const i=e.eBV(n).$implicit,s=e.XpG(2);return e.Njj(s.navigateToService(i.ServiceCode))}),e.j41(1,"ion-label"),e.EFF(2),e.k0s(),e.nrm(3,"ion-icon",23),e.k0s()}if(2&t){const n=o.$implicit;e.R7$(2),e.JRh(n.ServiceName)}}function K(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",13)(1,"div",20)(2,"ion-chip",9),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.navigateByUrl(i.APP_ROUTE.REQUEST_SERVICE))}),e.j41(3,"ion-label"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"ion-icon",10),e.k0s()(),e.Z7z(7,J,4,1,"ion-item",21,e.fX1),e.k0s()}if(2&t){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,1,"ServiceHistory")),e.R7$(3),e.Dyx(n.serviceUserSupports)}}function H(t,o){if(1&t&&(e.qex(0),e.j41(1,"div",39)(2,"ion-item",40)(3,"ion-radio",41)(4,"div",42)(5,"div")(6,"ion-thumbnail"),e.nrm(7,"img",43),e.k0s()(),e.j41(8,"div",44)(9,"b"),e.EFF(10),e.k0s()()()()()(),e.bVm()),2&t){let n;const l=o.$implicit,i=e.XpG(2);e.R7$(),e.HbH(l.PaymentMethodId==i.dataForm.PaymentMethodId?"border-primary":"border-gray"),e.R7$(2),e.Y8G("value",l.PaymentMethodId)("disabled",!l.IsSupport),e.R7$(4),e.Mz_("src","../../../assets/icon/payment/",l.PmCode,".jpeg",e.B4B),e.R7$(3),e.JRh(null!==(n=null!==(n=l.PmDesc)&&void 0!==n?n:l.PmName)&&void 0!==n?n:l.PmCode)}}function Y(t,o){if(1&t&&(e.j41(0,"div",35)(1,"ion-item",40)(2,"ion-radio",45)(3,"div",42)(4,"div"),e.nrm(5,"ion-img",46),e.k0s(),e.j41(6,"div",47)(7,"b")(8,"b",48),e.EFF(9),e.k0s()()()()()()()),2&t){const n=o.$implicit,l=e.XpG(2);e.R7$(2),e.Y8G("value",n.WalletRechargePackageId),e.R7$(7),e.Lme("",l.APP_FUNC_FormatMoney(n.Amount),"",n.Unit,"")}}function Q(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",24),e.EFF(3),e.nI1(4,"translate"),e.k0s()()(),e.j41(5,"ion-content",25)(6,"div",26)(7,"div",27)(8,"b"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",28)(12,"ion-radio-group",29),e.bIt("ionChange",function(i){e.eBV(n);const s=e.XpG();return e.Njj(s.changePaymentMethod(i))}),e.DNE(13,H,11,7,"ng-container",30),e.k0s()()(),e.j41(14,"div",31)(15,"div",27)(16,"b"),e.EFF(17,"Ch\u1ecdn s\u1ed1 ti\u1ec1n n\u1ea1p: "),e.k0s(),e.j41(18,"ion-text",32)(19,"b"),e.EFF(20),e.k0s()()()(),e.j41(21,"div",33)(22,"ion-radio-group",29),e.bIt("ionChange",function(i){e.eBV(n);const s=e.XpG();return e.Njj(s.changeWalletRechargePackage(i))}),e.j41(23,"div",34),e.Z7z(24,Y,10,3,"div",35,e.fX1),e.k0s()()()(),e.j41(26,"ion-footer",36)(27,"ion-button",37),e.bIt("click",function(){e.eBV(n),e.XpG();const i=e.sdS(21);return e.Njj(null==i?null:i.dismiss())}),e.j41(28,"ion-label"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"ion-button",38),e.bIt("click",function(){e.eBV(n);const i=e.XpG(),s=e.sdS(21);return null==s||s.dismiss(),e.Njj(i.submitTopUp())}),e.j41(32,"ion-label"),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(3),e.JRh(e.bMT(4,9,"TopUp")),e.R7$(6),e.JRh(e.bMT(10,11,"PaymentMethod")),e.R7$(3),e.Y8G("value",n.dataForm.PaymentMethodId),e.R7$(),e.Y8G("ngForOf",n.paymentMethods),e.R7$(7),e.JRh(n.APP_FUNC_FormatMoney(n.dataForm.Price)),e.R7$(2),e.Y8G("value",n.dataForm.WalletRechargePackageId),e.R7$(2),e.Dyx(n.walletRechargePackages),e.R7$(5),e.JRh(e.bMT(30,13,"Cancel")),e.R7$(2),e.Y8G("disabled",n.dataForm.IsPaying),e.R7$(2),e.JRh(e.bMT(34,15,"Confirm"))}}function Z(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-icon",60),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.toggleShowBalance())}),e.k0s()}}function ee(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-icon",61),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.toggleShowBalance())}),e.k0s()}}function ae(t,o){if(1&t&&(e.j41(0,"div",62),e.nrm(1,"ion-icon",63),e.j41(2,"span",64),e.EFF(3),e.k0s()(),e.j41(4,"div",62),e.nrm(5,"ion-icon",65),e.j41(6,"span",64),e.EFF(7),e.k0s()()),2&t){let n,l;const i=e.XpG(3);e.R7$(3),e.SpI("",i.APP_FUNC_FormatMoney(null!==(n=null==i.wallet?null:i.wallet.WalletValue)&&void 0!==n?n:0),"\u0111"),e.R7$(4),e.SpI("",i.APP_FUNC_FormatMoney(null!==(l=null==i.wallet?null:i.wallet.VehicleWalletBalance)&&void 0!==l?l:0),"\u0111")}}function ne(t,o){1&t&&(e.j41(0,"div",62),e.nrm(1,"ion-icon",63),e.j41(2,"span",64),e.EFF(3,"*** ***"),e.k0s()(),e.j41(4,"div",62),e.nrm(5,"ion-icon",65),e.j41(6,"span",64),e.EFF(7,"*** ***"),e.k0s()())}function te(t,o){if(1&t&&(e.j41(0,"div"),e.DNE(1,ae,8,2)(2,ne,8,0),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.vxM(1,n.isShowBalance?1:2)}}function le(t,o){if(1&t&&(e.j41(0,"div",66),e.EFF(1),e.k0s()),2&t){let n;const l=e.XpG(3);e.R7$(),e.SpI("",l.APP_FUNC_FormatMoney(null!==(n=null==l.wallet?null:l.wallet.WalletValue)&&void 0!==n?n:0),"\u0111")}}function ie(t,o){1&t&&(e.j41(0,"div",66),e.EFF(1,"*** ***"),e.k0s())}function oe(t,o){if(1&t&&(e.j41(0,"div"),e.DNE(1,le,2,1,"div",66)(2,ie,2,0),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.vxM(1,n.isShowBalance?1:2)}}function re(t,o){if(1&t&&(e.j41(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"div",53)(5,"div",54),e.EFF(6,"V.I.P"),e.k0s(),e.nrm(7,"ion-img",55),e.k0s()(),e.j41(8,"div",56)(9,"div",42)(10,"span",57),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,Z,1,0,"ion-icon",58)(14,ee,1,0),e.k0s(),e.DNE(15,te,3,1,"div")(16,oe,3,1),e.j41(17,"div",59),e.EFF(18),e.k0s()()()()()),2&t){const n=o.$implicit,l=e.XpG();e.R7$(11),e.JRh(e.bMT(12,4,"Balance")),e.R7$(2),e.vxM(13,l.isShowBalance?13:14),e.R7$(2),e.vxM(15,n.IsVehicleVipWallet?15:16),e.R7$(3),e.JRh(null==l.user?null:l.user.FullName)}}function ce(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-icon",60),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.toggleShowBalance())}),e.k0s()}}function se(t,o){if(1&t){const n=e.RV6();e.j41(0,"ion-icon",61),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.toggleShowBalance())}),e.k0s()}}function ue(t,o){if(1&t&&(e.j41(0,"div",62),e.nrm(1,"ion-icon",63),e.j41(2,"span",64),e.EFF(3),e.k0s()(),e.j41(4,"div",62),e.nrm(5,"ion-icon",65),e.j41(6,"span",64),e.EFF(7),e.k0s()()),2&t){let n,l;const i=e.XpG(3);e.R7$(3),e.SpI("",i.APP_FUNC_FormatMoney(null!==(n=null==i.wallet?null:i.wallet.WalletValue)&&void 0!==n?n:0),"\u0111"),e.R7$(4),e.SpI("",i.APP_FUNC_FormatMoney(null!==(l=null==i.wallet?null:i.wallet.VehicleWalletBalance)&&void 0!==l?l:0),"\u0111")}}function de(t,o){1&t&&(e.j41(0,"div",62),e.nrm(1,"ion-icon",63),e.j41(2,"span",64),e.EFF(3,"*** ***"),e.k0s()(),e.j41(4,"div",62),e.nrm(5,"ion-icon",65),e.j41(6,"span",64),e.EFF(7,"*** ***"),e.k0s()())}function _e(t,o){if(1&t&&(e.j41(0,"div"),e.DNE(1,ue,8,2)(2,de,8,0),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.vxM(1,n.isShowBalance?1:2)}}function me(t,o){if(1&t&&(e.j41(0,"div",66),e.EFF(1),e.k0s()),2&t){let n;const l=e.XpG(3);e.R7$(),e.SpI("",l.APP_FUNC_FormatMoney(null!==(n=null==l.wallet?null:l.wallet.WalletValue)&&void 0!==n?n:0),"\u0111")}}function pe(t,o){1&t&&(e.j41(0,"div",66),e.EFF(1,"*** ***"),e.k0s())}function ge(t,o){if(1&t&&(e.j41(0,"div"),e.DNE(1,me,2,1,"div",66)(2,pe,2,0),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.vxM(1,n.isShowBalance?1:2)}}function ve(t,o){if(1&t&&(e.j41(0,"div",67)(1,"div",50)(2,"div",51)(3,"div",52)(4,"div",53)(5,"div",54),e.EFF(6,"BASIC"),e.k0s(),e.nrm(7,"ion-img",55),e.k0s()(),e.j41(8,"div",56)(9,"div",42)(10,"span",57),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,ce,1,0,"ion-icon",58)(14,se,1,0),e.k0s(),e.DNE(15,_e,3,1,"div")(16,ge,3,1),e.j41(17,"div",59),e.EFF(18),e.k0s()()()()()),2&t){const n=o.$implicit,l=e.XpG();e.R7$(11),e.JRh(e.bMT(12,4,"Balance")),e.R7$(2),e.vxM(13,l.isShowBalance?13:14),e.R7$(2),e.vxM(15,n.IsVehicleVipWallet?15:16),e.R7$(3),e.JRh(null==l.user?null:l.user.FullName)}}const fe=[{path:"",component:(()=>{var t;class o{constructor(l,i,s,u,h,D){this.router=l,this.platform=i,this.modalController=s,this.animationController=u,this.toastController=h,this.loadingController=D,this.APP_ROUTE=U._,this.APP_FUNC_FormatMoney=F.xi,this.APP_FUNC_FormatDate=F.Rv,this.v_user_classify=T.If,this.readfile_url=y.c.readfile_url,this.serviceUserSupports=[],this.requestServices=[],this.requestServices_Medium=[],this.requestServices_Warning=[],this.dataForm={},this.paymentMethods=[],this.walletRechargePackages=[],this.isShowBalance=!1}ngOnInit(){this.IsOnInit=!0,(0,C.kU)().then(l=>{l&&this.refreshData()})}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(l){this.refreshData(()=>{l.target.complete()})}refreshData(l){Promise.all([new Promise((i,s)=>{(0,g.z)({callback:u=>{var h;null!=u&&u.Succeeded&&(this.user=null!==(h=u.Data)&&void 0!==h?h:{}),i(u)}})}),new Promise((i,s)=>{a({callback:u=>{null!=u&&u.Succeeded&&(this.wallet=u.Data),i(u)}})}),new Promise((i,s)=>{v({params:{ExceptDefaultService:!0},callback:u=>{var h;null!=u&&u.Succeeded&&(this.serviceUserSupports=null!==(h=u.Data)&&void 0!==h?h:[]),i(u)}})})]).then(i=>{l&&l(),(0,P.fy)({loadingController:this.loadingController,params:{VRequestStatusMulti:[T.Gz.YeuCauDichVu,T.Gz.NhanVienDangDiDen,T.Gz.DangPhucVu].join(","),PageNumber:1,PageSize:100},callback:s=>{var u;null!=s&&s.Succeeded&&(this.requestServices=null!==(u=s.Data)&&void 0!==u?u:[],this.requestServices_Medium=this.requestServices.filter(h=>h.VRequestStatus==T.Gz.YeuCauDichVu),this.requestServices_Warning=this.requestServices.filter(h=>h.VRequestStatus==T.Gz.NhanVienDangDiDen||h.VRequestStatus==T.Gz.DangPhucVu))}})})}toggleShowBalance(){var l=this;return(0,E.A)(function*(){l.isShowBalance=!l.isShowBalance})()}navigateByUrl(l){this.router.navigateByUrl(l)}navigateToServiceDetail(l){var i,s;this.navigateByUrl(1==l.length?U._.REQUEST_SERVICE_DETAIL.replace(":id",null!==(i=null===(s=l[0].RequestServiceId)||void 0===s?void 0:s.toString())&&void 0!==i?i:""):U._.REQUEST_SERVICE)}navigateToService(l){l===M.u9.SAC_VIP&&this.navigateByUrl("service-charging")}onModalTopUpDidPresent(l){(0,p.g)({loadingController:this.loadingController,params:{PageNumber:1,PageSize:10},callback:i=>{var s,u;null!=i&&i.Succeeded?(this.paymentMethods=null!==(s=i.Data)&&void 0!==s?s:[],this.paymentMethods.filter(h=>h.IsSupport).length>=1&&(this.dataForm.PaymentMethodId=null===(u=this.paymentMethods.find(h=>h.IsSupport))||void 0===u?void 0:u.PaymentMethodId)):(0,x.cX)(this.toastController,{},i).then(h=>h.present())}}),_({params:{PageNumber:1,PageSize:10},callback:i=>{var s;null!=i&&i.Succeeded?(this.walletRechargePackages=null!==(s=i.Data)&&void 0!==s?s:[],this.walletRechargePackages.length>0&&(this.dataForm.WalletRechargePackageId=this.walletRechargePackages[0].WalletRechargePackageId,this.dataForm.Price=this.walletRechargePackages[0].Amount)):(0,x.cX)(this.toastController,{},i).then(u=>u.present())}})}submitTopUp(){var l;this.dataForm.IsPaying=!0;var i=this.platform.platforms(),s=i.includes("desktop")?"pc":i.includes("mobileweb")?"mweb":"app";c({params:{WalletRechargePackageId:this.dataForm.WalletRechargePackageId,PmCode:null===(l=this.paymentMethods.find(u=>u.PaymentMethodId==this.dataForm.PaymentMethodId))||void 0===l?void 0:l.PmCode,PlatformType:s},callback:u=>{var h;null!=u&&u.Succeeded?(null!==(h=u.Data)&&void 0!==h&&h.OrderId&&this.router.navigateByUrl(U._.ORDER_INFO_DETAIL.replace(":id",u.Data.OrderId.toString()),{replaceUrl:!0}),(0,j.h)({router:this.router,toastController:this.toastController},u.Data,i)):(0,x.cX)(this.toastController,{},u).then(D=>D.present()),this.dataForm.IsPaying=!1}})}changePaymentMethod(l){this.dataForm.PaymentMethodId=l.detail.value}changeWalletRechargePackage(l){var i;this.dataForm.WalletRechargePackageId=l.detail.value,this.dataForm.Price=null===(i=this.walletRechargePackages.find(s=>s.WalletRechargePackageId==this.dataForm.WalletRechargePackageId))||void 0===i?void 0:i.Amount}changePrice(l){this.dataForm.Price=l.detail.value}}return(t=o).\u0275fac=function(l){return new(l||t)(e.rXU(r.Ix),e.rXU($.OD),e.rXU(f.W3),e.rXU(f.Hx),e.rXU(f.K_),e.rXU(f.Xi))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-service"]],decls:28,vars:13,consts:[["modalTopUp",""],["templateWalletCardVip",""],["templateWalletCardBasic",""],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"row"],[1,"container","px-0"],[1,"card-wallet","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-start","justify-content-between","mt-3","pr-3"],["color","dark",1,"no-background",3,"click"],["name","chevron-forward-outline"],["mode","ios","size","small","color","primary","shape","round","fill","outline",3,"click"],[1,"container","px-0","mt-4"],[1,"container","mt-4","container-service"],[3,"didPresent","initialBreakpoint","breakpoints"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["lines","full"],["color","light","detail","true","button",""],["color","light","detail","true","button","",3,"click"],["slot","start","color","danger"],[1,"row","align-items-center","justify-content-between","mb-2"],["color","light","lines","none","detail","false","button",""],["color","light","lines","none","detail","false","button","",3,"click"],["slot","end","name","add"],[1,"text-center"],[1,"ion-padding-horizontal"],[1,"card-payment-method"],[1,"mb-2"],[1,"data-list"],[3,"ionChange","value"],[4,"ngFor","ngForOf"],[1,"mt-4","mb-3"],["color","primary"],[1,"package-list"],[1,"row","px-2"],[1,"package-item","mb-3","col-6","px-1"],[1,"ion-padding","d-flex","justify-content-around"],["color","medium","shape","round","fill","outline","expand","block",1,"flex-grow-1","mr-2",3,"click"],["color","primary","shape","round","fill","outline","expand","block",1,"flex-grow-1",3,"click","disabled"],[1,"data-item"],["lines","none","detail","false","button","","mode","ios"],["mode","md","justify","space-between",3,"value","disabled"],[1,"d-flex","align-items-center"],[3,"src"],[1,"pl-3"],["mode","md","justify","space-between",3,"value"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"pl-1","fs-14"],[1,"text-primary"],[1,"card-wallet-vip","w-480","mw-100","my-3","mx-2"],[1,"embed-responsive","embed-responsive-16by9"],[1,"embed-responsive-item","d-flex","flex-column","p-3"],[1,"flex-grow-1"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fs-14","fw-900","text-uppercase"],["src","../../../assets/image/logo-light.svg",1,"h-24"],[1,"d-flex","flex-column"],[1,"fs-10","fw-400","mr-2"],["name","eye-outline",1,"fs-12","cursor-pointer"],[1,"fs-14","fw-800","text-uppercase","my-2"],["name","eye-outline",1,"fs-12","cursor-pointer",3,"click"],["name","eye-off-outline",1,"fs-12","cursor-pointer",3,"click"],[1,"fs-20","fw-700","min-h-28","d-flex","align-items-center"],["name","wallet-outline",1,"fs-16"],[1,"ml-2"],["name","car-outline",1,"fs-16"],[1,"fs-24","fw-700","min-h-36"],[1,"card-wallet-basic","w-480","mw-100","my-3","mx-2"]],template:function(l,i){if(1&l){const s=e.RV6();e.j41(0,"ion-content",3)(1,"ion-refresher",4),e.bIt("ionRefresh",function(h){return e.eBV(s),e.Njj(i.onIonRefresher(h))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"ion-header")(4,"ion-toolbar")(5,"div",5)(6,"div",6),e.DNE(7,X,3,1,"div",7),e.j41(8,"div",8)(9,"ion-chip",9),e.bIt("click",function(){return e.eBV(s),e.Njj(i.navigateByUrl(i.APP_ROUTE.WALLET_HISTORY))}),e.j41(10,"ion-label"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"ion-icon",10),e.k0s(),e.j41(14,"ion-button",11),e.bIt("click",function(){e.eBV(s);const h=e.sdS(21);return e.Njj(null==h?null:h.present())}),e.j41(15,"ion-label"),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()()()()(),e.DNE(18,z,4,2,"div",12)(19,K,9,3,"div",13),e.j41(20,"ion-modal",14,0),e.bIt("didPresent",function(h){return e.eBV(s),e.Njj(i.onModalTopUpDidPresent(h))}),e.DNE(22,Q,35,17,"ng-template"),e.k0s()(),e.nrm(23,"app-footer-tabs"),e.DNE(24,re,19,6,"ng-template",null,1,e.C5r)(26,ve,19,6,"ng-template",null,2,e.C5r)}2&l&&(e.Y8G("fullscreen",!0),e.R7$(7),e.vxM(7,i.user?7:-1),e.R7$(4),e.JRh(e.bMT(12,8,"TransactionHistory")),e.R7$(5),e.JRh(e.bMT(17,10,"TopUp")),e.R7$(2),e.vxM(18,i.requestServices_Medium.length||i.requestServices_Warning.length?18:-1),e.R7$(),e.vxM(19,i.serviceUserSupports.length?19:-1),e.R7$(),e.Y8G("initialBreakpoint",1)("breakpoints",e.lJ4(12,N)))},dependencies:[b.Sq,b.T3,f.Jm,f.ZB,f.W9,f.M0,f.eU,f.iq,f.KW,f.uz,f.he,f.nf,f.KO,f.f0,f.To,f.Ki,f.IO,f.Zx,f.BC,f.ai,f.Sb,f.Je,O.x,W.D9],styles:[".card-wallet[_ngcontent-%COMP%]{background-color:#fff}.card-wallet[_ngcontent-%COMP%]   .card-wallet-basic[_ngcontent-%COMP%]{background:url(card-basic.cbc7ce17fa37e499.svg) no-repeat;background-size:contain;color:#fff}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]{background:url(card-vip.3ee7bcee0ee322bf.svg) no-repeat;background-size:contain;color:#fff}.container-service[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 3.5rem;--border-radius: .75rem;margin-bottom:1rem}ion-modal[trigger=present-modal-top-up][_ngcontent-%COMP%]{--ion-background-color: var(--ion-color-light)}.card-payment-method[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 3rem;--border-radius: .5rem}.card-payment-method[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{border-radius:.75rem;margin-bottom:1rem;border:1px solid var(--ion-color-gray)}.card-payment-method[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: .75rem}.package-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 2.5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: .5rem;--inner-padding-end: .5rem;--border-width: 1px;--border-color: #eee;--border-radius: .75rem}.package-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:1.5rem}.package-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]::part(label){margin-right:.5rem}"]}),o})()}];let he=(()=>{var t;class o{}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[r.iI.forChild(fe),r.iI]}),o})();var Pe=d(3664);let Re=(()=>{var t;class o{}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[b.MD,S.YN,f.bv,he,Pe.x]}),o})()},9864:(A,I,d)=>{d.d(I,{V:()=>R});var b=d(467),S=d(6013),f=d(5005),r=d(6539),E=d(2021),y=d(5083);const P=function(){var v=(0,b.A)(function*(k){(yield k.modalController.create({component:f.I,showBackdrop:!1,cssClass:"ion-modal-scanning barcode-scanning-modal"})).present()});return function(g){return v.apply(this,arguments)}}(),R=v=>{(0,r.kU)().then(function(){var k=(0,b.A)(function*(g){g&&(v=>{["ios","android"].includes(y.Ii.getPlatform())?S.vi.isSupported().then(k=>{k.supported?S.vi.checkPermissions().then(g=>{"granted"==g.camera?v.success():"denied"==g.camera?v.warning("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i \u1ee9ng d\u1ee5ng truy c\u1eadp ch\u1ee9c n\u0103ng n\xe0y, h\xe3y b\u1eadt l\u1ea1i n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t \u1ee9ng d\u1ee5ng tr\xean thi\u1ebft b\u1ecb!"):"prompt"==g.camera||"prompt-with-rationale"==g.camera?S.vi.requestPermissions().then(a=>{"granted"==a.camera?v.success():v.warning("denied"==a.camera?"B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i \u1ee9ng d\u1ee5ng truy c\u1eadp ch\u1ee9c n\u0103ng n\xe0y, h\xe3y b\u1eadt l\u1ea1i n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t \u1ee9ng d\u1ee5ng tr\xean thi\u1ebft b\u1ecb!":"C\xf3 g\xec \u0111\xf3 kh\xf4ng \u0111\xfang! [#1]")}).catch(a=>{v.warning("C\xf3 g\xec \u0111\xf3 kh\xf4ng \u0111\xfang! [#2]")}):"limited"==g.camera&&v.error("Ch\u1ee9c n\u0103ng b\u1ecb gi\u1edbi h\u1ea1n! [#3]")}).catch(g=>{v.warning("C\xf3 g\xec \u0111\xf3 kh\xf4ng \u0111\xfang! [#4]")}):v.warning("Thi\u1ebft b\u1ecb kh\xf4ng h\u1ed7 tr\u1ee3 qu\xe9t m\xe3 QR")}):v.warning("Thi\u1ebft b\u1ecb kh\xf4ng h\u1ed7 tr\u1ee3 qu\xe9t m\xe3 QR")})({success:()=>{P({modalController:v.modalController})},error:a=>{(0,E.cX)(v.toastController,{color:"medium",message:a,duration:1e4}).then(c=>c.present())},warning:a=>{(0,E.cX)(v.toastController,{color:"warning",message:a,duration:600}).then(c=>{c.onDidDismiss().then(_=>{P({modalController:v.modalController})}),c.present()})}})});return function(g){return k.apply(this,arguments)}}())}}}]);