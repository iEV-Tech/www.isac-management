"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[615],{1038:(I,v,s)=>{s.d(v,{v:()=>i});var h=s(467),F=s(5972);const i=function(){var g=(0,h.A)(function*(r){r.params=r.params||{};var p=[];r.params.subFolder&&(r.params.subFolder=r.params.subFolder.replace(/[^a-zA-Z0-9\/]/gm,"").replace(/\/+/gm,"/").replace(/^\//,"").replace(/\/$/,""),r.params.subFolder&&p.push(r.params.subFolder)),r.params.isconvertvideo=!!r.params.isconvertvideo,r.params.isconvertpdf2image=!!r.params.isconvertpdf2image,r.params.isconvertoffice2image=!!r.params.isconvertoffice2image,r.params.isresizeimage=!!r.params.isresizeimage;const u=new FormData;u.append("path",p.join("/")),u.append("types",r.params.fileType||null),u.append("file",r.params.file||null),u.append("base64",r.params.base64||!1),u.append("isconvertvideo",r.params.isconvertvideo),u.append("isconvertpdf2image",r.params.isconvertpdf2image),u.append("isconvertoffice2image",r.params.isconvertoffice2image),u.append("isresizeimage",r.params.isresizeimage),(0,F.ZD)({url:"files",formData:u,success:e=>{"function"==typeof r.callback&&r.callback(e||null)},error:e=>{"function"==typeof r.callback&&r.callback(),console.error(r,e)},loading:r.loading,loadingController:r.loadingController})});return function(p){return g.apply(this,arguments)}}()},615:(I,v,s)=>{s.r(v),s.d(v,{UserInfoPageModule:()=>J});var h=s(177),F=s(9417),i=s(9465),g=s(7625),r=s(467),p=s(9946),u=s(2678),e=s(4438),_=s(4842);function U(o,c){if(1&o){const a=e.RV6();e.qex(0),e.j41(1,"ion-content")(2,"div",4)(3,"ion-list",5)(4,"div",6)(5,"label"),e.EFF(6),e.nI1(7,"translate"),e.j41(8,"span",7),e.EFF(9,"*"),e.k0s()(),e.j41(10,"div",8)(11,"ion-item")(12,"ion-input",9),e.nI1(13,"translate"),e.bIt("ionChange",function(n){e.eBV(a);const l=e.XpG();return e.Njj(l.changeFullName(n))}),e.k0s()()()(),e.j41(14,"div",6)(15,"label"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"div",8)(19,"ion-item")(20,"ion-input",10),e.nI1(21,"translate"),e.bIt("ionChange",function(n){e.eBV(a);const l=e.XpG();return e.Njj(l.changeEmail(n))}),e.k0s()()()(),e.j41(22,"div",6)(23,"label"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"div",8)(27,"ion-item")(28,"ion-input",10),e.nI1(29,"translate"),e.bIt("ionChange",function(n){e.eBV(a);const l=e.XpG();return e.Njj(l.changePhone(n))}),e.k0s()()()(),e.j41(30,"div",6)(31,"label"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",8)(35,"ion-item")(36,"ion-textarea",11),e.nI1(37,"translate"),e.bIt("ionChange",function(n){e.eBV(a);const l=e.XpG();return e.Njj(l.changeAddress(n))}),e.k0s()()()()()()(),e.j41(38,"ion-footer")(39,"div",12)(40,"ion-button",13),e.bIt("click",function(n){e.eBV(a);const l=e.XpG();return e.Njj(l.submit(n))}),e.j41(41,"ion-label"),e.EFF(42),e.nI1(43,"translate"),e.k0s()()()(),e.bVm()}if(2&o){const a=e.XpG();e.R7$(6),e.SpI("",e.bMT(7,14,"FullName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(13,16,"FullName")),e.Y8G("value",a.dataForm.FullName),e.R7$(4),e.JRh(e.bMT(17,18,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(21,20,"Email")),e.Y8G("value",a.dataForm.Email),e.R7$(4),e.JRh(e.bMT(25,22,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(29,24,"Mobile")),e.Y8G("value",a.dataForm.Phone),e.R7$(4),e.JRh(e.bMT(33,26,"Address")),e.R7$(4),e.FS9("placeholder",e.bMT(37,28,"Address")),e.Y8G("autoGrow",!0)("value",a.dataForm.Address),e.R7$(6),e.JRh(e.bMT(43,30,"Complete"))}}let C=(()=>{var o;class c{constructor(t,n,l){this.modalController=t,this.toastController=n,this.loadingController=l,this.user={},this.dataForm={}}ngOnInit(){(0,p.z)({loadingController:this.loadingController,callback:t=>{var n,l,d;this.response=t,null!=t&&t.Succeeded?(this.user=null!==(n=t.Data)&&void 0!==n?n:{},this.dataForm={FullName:this.user.FullName,Email:null===(l=this.user.Person)||void 0===l?void 0:l.Email,Phone:null===(d=this.user.Person)||void 0===d?void 0:d.Phone,Address:this.user.Address}):(0,u.cX)(this.toastController,{},t).then(m=>m.present())}})}close(t){var n=this;return(0,r.A)(function*(){n.modalController.dismiss(null,"cancel")})()}submit(t){var n=this;return(0,r.A)(function*(){(0,p.ks)({loadingController:n.loadingController,params:n.dataForm,callback:l=>{null!=l&&l.Succeeded?n.modalController.dismiss(null,"success"):(0,u.cX)(n.toastController,{},l).then(d=>d.present())}})})()}changeFullName(t){var n=this;return(0,r.A)(function*(){n.dataForm.FullName=t.detail.value})()}changeEmail(t){var n=this;return(0,r.A)(function*(){n.dataForm.Email=t.detail.value})()}changePhone(t){var n=this;return(0,r.A)(function*(){n.dataForm.Phone=t.detail.value})()}changeAddress(t){var n=this;return(0,r.A)(function*(){n.dataForm.Address=t.detail.value})()}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(i.W3),e.rXU(i.K_),e.rXU(i.Xi))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-modal-update-user"]],decls:9,vars:4,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],[4,"ngIf"],[1,"card-info","bg-white","container","py-3","min-h-100"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input"],[3,"ionChange","placeholder","value"],["type","email",3,"ionChange","placeholder","value"],[3,"ionChange","autoGrow","placeholder","value"],[1,"container","py-3"],["color","primary","expand","block","shape","round",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(d){return n.close(d)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.DNE(8,U,44,32,"ng-container",3)),2&t&&(e.R7$(6),e.JRh(e.bMT(7,2,"UpdateInfo")),e.R7$(2),e.Y8G("ngIf",null==n.response?null:n.response.Succeeded))},dependencies:[h.bT,i.Jm,i.QW,i.W9,i.M0,i.eU,i.iq,i.$w,i.uz,i.he,i.nf,i.nc,i.BC,i.ai,i.Gw,_.D9],styles:[".card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),c})();var M=s(5312),T=s(1038),E=s(6539),R=s(9136),j=s(8833);function P(o,c){if(1&o&&(e.j41(0,"div",7)(1,"small",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",11)(5,"b"),e.EFF(6),e.k0s(),e.j41(7,"ion-chip",12)(8,"ion-label"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()),2&o){const a=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"Mobile")),e.R7$(4),e.JRh(a.APP_FUNC_FormatMobileNumber(a.user.PhoneNumber)),e.R7$(3),e.JRh(e.bMT(10,5,"Verified"))}}function k(o,c){if(1&o&&(e.j41(0,"div",7)(1,"small",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",11)(5,"b"),e.EFF(6),e.k0s(),e.j41(7,"ion-chip",12)(8,"ion-label"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()),2&o){const a=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"Email")),e.R7$(4),e.JRh(a.user.Email),e.R7$(3),e.JRh(e.bMT(10,5,"Verified"))}}function A(o,c){if(1&o&&(e.j41(0,"div",7)(1,"small",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",11)(5,"b",13),e.EFF(6),e.k0s(),e.j41(7,"ion-chip",12)(8,"ion-label"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()),2&o){const a=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"AccountLinkedTo")),e.R7$(3),e.Y8G("title",a.user.UserName),e.R7$(),e.JRh(a.user.SocialType),e.R7$(3),e.JRh(e.bMT(10,6,"Verified"))}}function N(o,c){if(1&o&&(e.j41(0,"div",6)(1,"div",7)(2,"small",8),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",9)(6,"b"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,P,11,7,"div",7)(10,k,11,7,"div",7)(11,A,11,8,"div",7),e.j41(12,"div",10)(13,"i"),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.nrm(16,"hr"),e.j41(17,"div",7)(18,"small",8),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"p",9)(22,"b"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",7)(26,"small",8),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"p",9)(30,"b"),e.EFF(31),e.nI1(32,"translate"),e.k0s()()(),e.j41(33,"div",7)(34,"small",8),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"p",9)(38,"b"),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()()),2&o){const a=e.XpG();e.R7$(3),e.JRh(e.bMT(4,12,"FullName")),e.R7$(4),e.JRh(a.user.FullName||e.bMT(8,14,"NotUpdate")),e.R7$(2),e.vxM(9,a.user.PhoneNumberConfirmed&&a.user.PhoneNumber?9:-1),e.R7$(),e.vxM(10,a.user.EmailConfirmed&&a.user.Email?10:-1),e.R7$(),e.vxM(11,a.user.IsSocial&&a.user.SocialType?11:-1),e.R7$(3),e.JRh(e.bMT(15,16,"Verified_MoreInfo")),e.R7$(5),e.JRh(e.bMT(20,18,"Email")),e.R7$(4),e.JRh((null==a.user.Person?null:a.user.Person.Email)||e.bMT(24,20,"NotUpdate")),e.R7$(4),e.JRh(e.bMT(28,22,"Mobile")),e.R7$(4),e.JRh(a.APP_FUNC_FormatMobileNumber(null==a.user.Person?null:a.user.Person.Phone)||e.bMT(32,24,"NotUpdate")),e.R7$(4),e.JRh(e.bMT(36,26,"Address")),e.R7$(4),e.JRh(a.user.Address||e.bMT(40,28,"NotUpdate"))}}function y(o,c){if(1&o){const a=e.RV6();e.j41(0,"ion-footer")(1,"div",14)(2,"ion-button",15),e.bIt("click",function(n){e.eBV(a);const l=e.XpG();return e.Njj(l.presentModalUpdateUser(n))}),e.j41(3,"ion-label"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"Update")))}const $=[{path:"",component:(()=>{var o;class c{constructor(t,n,l){this.modalController=t,this.toastController=n,this.loadingController=l,this.APP_ROUTE=j._,this.api_url=M.c.api_url,this.APP_FUNC_FormatMobileNumber=R.IV}ngOnInit(){var t=this;(0,r.A)(function*(){(yield(0,E.kU)())&&t.refreshData()})()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}refreshData(t){var n=this;return(0,r.A)(function*(){(0,p.z)({loadingController:n.loadingController,callback:l=>{var d;n.response=l,null!=l&&l.Succeeded?n.user=null!==(d=l.Data)&&void 0!==d?d:{}:(0,u.cX)(n.toastController,{},l).then(m=>m.present()),t&&t()}})})()}presentModalUpdateUser(t){var n=this;return(0,r.A)(function*(){let l=yield n.modalController.create({component:C});l.onDidDismiss().then(d=>{"success"==d.role&&n.refreshData()}),l.present()})()}changeAvatar(t){var n=this;return(0,r.A)(function*(){(0,R.oG)({accept:"image/*"},function(){var l=(0,r.A)(function*(d){(0,T.v)({loadingController:n.loadingController,params:{file:d[0],subFolder:"avatar",fileType:"image"},callback:m=>{var b;0==(null==m?void 0:m.ReturnCode)?(0,p.sh)({loadingController:n.loadingController,params:{UserId:null===(b=n.user)||void 0===b?void 0:b.UserId,Avatar:`${m.path}/${m.file.name}`},callback:f=>{null!=f&&f.Succeeded?n.refreshData():(0,u.cX)(n.toastController,{},f).then(X=>X.present())}}):(0,u.cX)(n.toastController,{},m).then(f=>f.present())}})});return function(d){return l.apply(this,arguments)}}())})()}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(i.W3),e.rXU(i.K_),e.rXU(i.Xi))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-user-info"]],decls:12,vars:6,consts:[["mode","ios"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","card-info bg-white container py-3 min-h-100",4,"ngIf"],[4,"ngIf"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"mb-3"],[1,"text-muted"],[1,"mt-1","mb-0"],[1,"fs-10","text-muted"],[1,"d-flex","align-items-center","justify-content-between","mt-1"],["color","success"],[3,"title"],[1,"container","py-3"],["expand","block","shape","round",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",3),e.bIt("ionRefresh",function(d){return n.onIonRefresher(d)}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.DNE(10,N,41,30,"div",4),e.k0s(),e.DNE(11,y,6,3,"ion-footer",5)),2&t&&(e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.USER),e.R7$(2),e.JRh(e.bMT(6,4,"UserInfo")),e.R7$(5),e.Y8G("ngIf",n.user),e.R7$(),e.Y8G("ngIf",null==n.user?null:n.user.UserId))},dependencies:[h.bT,i.Jm,i.QW,i.ZB,i.W9,i.M0,i.eU,i.he,i.To,i.Ki,i.BC,i.ai,i.el,_.D9],styles:[".card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),c})()}];let x=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild($),g.iI]}),c})();var G=s(3664);let J=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[h.MD,F.YN,i.bv,x,G.x]}),c})()}}]);